import{_ as e,u as a,x as s,t,q as l,bu as o,R as c,r,h as i,bv as n,o as p,c as u,F as d,B as k,b as v,C as g,m as y,a0 as h,G as C,bt as m,bL as A,l as f,S as b,s as S,J as _,K as E,f as B,j as T,bx as I,by as x,ac as V,a as P,z as j,n as K}from"./index-CioBjTVG.js";/* empty css              *//* empty css              *//* empty css              */import"./index-C9iF-GfQ.js";import{S as R}from"./index-DXNav8J_.js";import{I as U}from"./icon_delete@2x-C7CDr5Da.js";import{E as w}from"./emptyPage-Ds2BKBqQ.js";import{C as O}from"./ContractService-Ba4Wf1gW.js";import{T as L,a as D}from"./index-Onjf-qgk.js";import"./use-id-CcbAo3SX.js";import"./use-tab-status-_iNRjcO8.js";import"./index-DcdjDLdy.js";import"./index-Bde3MoM6.js";const N={key:0,class:"list"},M=["onClick"],Q={class:"whiteBig"},G={class:"greyS"},J={class:"rightCol"},F={class:"whiteBig"},H=["onClick"],Y=["onClick"],Z=["onClick"],z={class:"whiteBig"},W={class:"greyS"},q={class:"rightCol"},X={class:"whiteBig"},$=["onClick"],ee=["onClick"],ae=e({__name:"tabContent",props:["index","searchValue"],emits:["close"],setup(e,{emit:_}){const E=e,B=_,{t:T}=a();s();const I=t(),x=l(),V=o(),P=c(),j=r({prop:"",sort:""}),K=()=>0==E.index,R=e=>{K()?I.push("/spot/"+e.symbol):I.push("/contract/"+e.contractCode),B("close")},U=i((()=>{const e=Object.create(null);return x.selfSpotTradePairs.forEach((a=>{e[a.symbol]=!0})),e})),L=i((()=>{const e=Object.create(null);return x.selfContracts.forEach((a=>{e[a.symbol]=!0})),e})),D=i((()=>{if(K()){let e=V.spotPairList;if(""!=E.searchValue){let a=E.searchValue.toUpperCase();e=e.filter((e=>-1!==e.leftKey.indexOf(a)))}return e.sort(n(j.prop,j.sort)),e}{let e=P.contractInfoList();if(""!=E.searchValue){let a=E.searchValue.toUpperCase();e=e.filter((e=>-1!==e.keyCapital.indexOf(a)))}return e.sort(n(j.prop,j.sort)),e}}));return(e,a)=>D.value.length>0?(p(),u("ul",N,[K()?(p(!0),u(d,{key:0},k(D.value,((e,a)=>(p(),u("li",{key:a,onClick:a=>R(e)},[v("p",null,[v("span",Q,g(e.leftKey),1),v("span",G," /"+g(e.rightKey),1)]),v("div",J,[v("div",null,[v("p",F,g(y(h)(e.ticker.last)),1),v("p",{class:C(e.ticker.changeRange>0?"greenS":"redS")},g(y(m)(e.ticker.changeRange)),3)]),U.value[e.symbol]?(p(),u("div",{key:0,class:"star active",onClick:A((a=>(async e=>{await b.removeSelfTradePair(e),S(T("移出自选"))})(e.symbol)),["stop"])},null,8,H)):(p(),u("div",{key:1,class:"star",onClick:A((a=>(async e=>{x.isLogin()?(await b.addSelfTradePair(e),S(T("加入自选"))):x.connect()})(e.symbol)),["stop"])},null,8,Y))])],8,M)))),128)):(p(!0),u(d,{key:1},k(D.value,((e,a)=>(p(),u("li",{key:a+"1",onClick:a=>R(e)},[v("p",null,[v("span",z,g(e.keyCapital),1),v("span",W,g(" "+y(T)("永续")),1)]),v("div",q,[v("div",null,[v("p",X,g(y(h)(e.ticker.last)),1),v("p",{class:C(e.ticker.changeRange>0?"greenS":"redS")},g(y(m)(e.ticker.changeRange)),3)]),L.value[e.contractCode]?(p(),u("div",{key:0,class:"star active",onClick:A((a=>(async e=>{await O.delSelfContracts({symbols:[e]}),S(T("移出自选"))})(e.contractCode)),["stop"])},null,8,$)):(p(),u("div",{key:1,class:"star",onClick:A((a=>(async e=>{x.isLogin()?(await O.addSelfContracts(e),S(T("加入自选"))):x.connect()})(e.contractCode)),["stop"])},null,8,ee))])],8,Z)))),128))])):(p(),f(w,{key:1}))}},[["__scopeId","data-v-a9ea3b48"]]),se={key:0,class:"list"},te=["onClick"],le={class:"leftCol"},oe=(e=>(_("data-v-68b29b3a"),e=e(),E(),e))((()=>v("p",{class:"hot"},null,-1))),ce={class:"whiteBig"},re={class:"greyF"},ie={class:"rightCol"},ne={class:"whiteBig"},pe=["onClick"],ue=["onClick"],de=e({__name:"hotList",setup(e){const s=o(),c=l(),{t:r}=a(),h=t(),_=i((()=>{const e=s.spotPairList;let a,t=0;const l=e.length,o=[];for(;t<l;t++)a=e[t],a.ticker.key&&o.push(Object.assign({hotSort:a.hotSort},a.ticker));return o.sort(n("hotSort","asc"))})),E=i((()=>{const e=Object.create(null);return c.selfSpotTradePairs.forEach((a=>{e[a.symbol]=!0})),e}));return(e,a)=>_.value.length>0?(p(),u("ul",se,[(p(!0),u(d,null,k(_.value,((e,a)=>(p(),u("li",{key:a,onClick:a=>y(h).push("/spot/"+e.symbol)},[v("div",le,[oe,v("p",null,[v("span",ce,g(e.leftKey),1),v("span",re," /"+g(e.rightKey),1)])]),v("div",ie,[v("div",null,[v("p",ne,g(e.last),1),v("p",{class:C(e.changeRange>=0?"greenS":"redS")},g(y(m)(e.changeRange)),3)]),E.value[e.symbol]?(p(),u("div",{key:0,class:"star active",onClick:A((a=>(async e=>{await b.removeSelfTradePair(e),S(r("移出自选"))})(e.symbol)),["stop"])},null,8,pe)):(p(),u("div",{key:1,class:"star",onClick:A((a=>(async e=>{c.isLogin()?(await b.addSelfTradePair(e),S(r("加入自选"))):c.connect()})(e.symbol)),["stop"])},null,8,ue))])],8,te)))),128))])):(p(),f(w,{key:1}))}},[["__scopeId","data-v-68b29b3a"]]);var ke={VITE_OPENAPI:"https://app.fitget.pro",VITE_VERSION:"v1",VITE_FALLBACK_LANG:"zh",VITE_SIGNATURE_KEY:"4b424e19fd7287dc2378271f985bd0b8",VITE_WEBSOCKET_MQTT_URL:"wss://dapp.fitget.pro/mqtt",VITE_MERCHANT_ID:"1",VITE_FUSION_PROD_ID:"5",BASE_URL:"/SomethingBoring/tmp/fitget",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ve={class:"glo_search_wrap"},ge={key:0,class:"searchHis"},ye={class:"top"},he={class:"searchBlocks"},Ce=["onClick"],me={class:"glo_title",style:{"padding-bottom":"0"}},Ae="COIN_HISTORY",fe=e({__name:"index",emits:["close"],setup(e,{emit:l}){const o=t();s();const{t:c}=a(),n=B(!1),h=B(!1),C=ke,{VITE_WEBSOCKET_MQTT_URL:m,VITE_MERCHANT_ID:A}=C,b=i((()=>{h.value=n.value;const e=localStorage.getItem(Ae);return e?JSON.parse(e):[]})),S=B(1),_=r([c("现货"),c("合约")]);B(!0);const E=B(""),w=B(0),O=e=>{E.value=e,S.value=2},N=()=>o.go(-1);r([]);const M=()=>{E.value=""},Q=[`exchange.public.${A}.spot.ticker`,"exchange.public.contract.ticker"];T((()=>{I.subscribes(Q)})),x((()=>{I.unsubscribes(Q)}));const G=()=>{localStorage.removeItem(Ae),n.value=!n.value};return(e,a)=>{const s=R,t=V("TitleBar"),l=D,o=L;return p(),u("div",null,[P(t,{class:"glo_ttile_bar_serach"},{default:j((()=>[v("div",ve,[P(s,{modelValue:E.value,"onUpdate:modelValue":a[0]||(a[0]=e=>E.value=e),placeholder:y(c)("搜索币种"),onSearch:O,onCancel:N,onClear:M,"update:model-value":"searchValue",shape:"round","clear-icon":y("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAM1BMVEUAAAD1+P/3+f/09P/2+P/1+P/w8f/29v/z+P/y9v/09//y9//y8v/y8v/y///2+P/1+v9qa3pZAAAAEXRSTlMATC8vQkcJBCohJhoOExM5NAafWAkAAAFWSURBVFjD7ZbLrsMgDEQxmFdokvv/X3u7GwULu4C669k50Qy2ecjux1fJrZbwptQzz6vPwkSA/Tm19hFJwCUtyoH/yKJCLuBmL/9HYCGJxGTAqsMrkkl86fodhwS9Skxr9QPODgBPH3NDBRpNUNcKADGvFQAOkYBolAj1FEp/ZJ0XoZoCd3oUhfBB7N4PoYcE4YNTaSHjK/R9lkWtAA4IAvWrgEw0cBB6kLsWDByg72kOVBo6QK8d50KGA/SgGP/JG/+DZQCHQJsGfs3AG1c12E3UHcrUNnp9G9tQH/zQ4VKPMpozdEjaZYJ+6MDKg8TQj69zsB+UIELRAhClQxChzBIcootBhrICkKPxrKt7gBRskICawsqcUmmCBh241woAmdcK2B9x9oes/TFvf9AEKZDKnZ1FYyX9qgjtJOKB5S0LXpSD6+nB5XLTpKsW/6bUltyPb/IPCqkMyaYr4ikAAAAASUVORK5CYII="),"clear-trigger":"always"},null,8,["modelValue","placeholder","clear-icon"])])])),_:1}),1==S.value?(p(),u(d,{key:0},[b.value.length>0?(p(),u("div",ge,[v("div",ye,[v("span",null,g(y(c)("历史搜索")),1),v("img",{class:"del",src:U,onClick:G})]),v("ul",he,[(p(!0),u(d,null,k(b.value,((e,a)=>(p(),u("li",{key:a,onClick:a=>(e=>{O(e)})(e.currency.toUpperCase())},g(e.currency.toUpperCase()),9,Ce)))),128)),b.value.length%3!=0?(p(!0),u(d,{key:0},k(3-b.value.length%3,(e=>(p(),u("li",{class:"place",key:`placeLi${e}`})))),128)):K("",!0)])])):K("",!0),v("div",me,g(y(c)("热门搜索")),1),P(de)],64)):(p(),f(o,{key:1,active:w.value,"onUpdate:active":a[1]||(a[1]=e=>w.value=e),animated:""},{default:j((()=>[(p(!0),u(d,null,k(_,((e,a)=>(p(),f(l,{title:e,key:a},{default:j((()=>[P(ae,{index:a,searchValue:E.value},null,8,["index","searchValue"])])),_:2},1032,["title"])))),128))])),_:1},8,["active"]))])}}},[["__scopeId","data-v-3ece0ba3"]]);export{fe as default};
