import{_ as e,t as a,f as l,o as s,l as u,z as n,b as t,c as r,F as c,B as o,G as i,C as v,a as d,E as p,m,ao as h,af as w,J as C,K as y,u as _,h as b,j as f,n as g,s as k,an as N,q as U,bQ as j,x,U as W,b9 as F,w as I}from"./index-CioBjTVG.js";import{B as $}from"./index-h3qOpuro.js";import{F as A}from"./index-C9iF-GfQ.js";import{_ as V}from"./headItem-Cz9qCjk4.js";import{_ as B,a as D}from"./img_chongzhi_empty@2x-CaK-8mkd.js";import{_ as R}from"./icon_24_enter@2x-BX63Xi-A.js";import{_ as Q}from"./icon_navbar_close_nor@2x-cBiUEbVd.js";import{_ as S}from"./icon_tips_grey@2x-LOurmeOe.js";/* empty css                                              *//* empty css                                              */import"./use-id-CcbAo3SX.js";const T=e=>(C("data-v-4180eb19"),e=e(),y(),e),q=T((()=>t("span",null," 选择地址 ",-1))),L={class:"content"},O={key:0,class:"midPic"},z=[T((()=>t("img",{class:"ques",src:B},null,-1))),T((()=>t("p",{class:"greyS"}," 你还没有地址 ",-1)))],E={key:1,class:"radioList"},H=["onClick"],P={class:"whiteBig"},G=T((()=>t("p",{class:"greyS"},"1Hjqjwsj2U2j9d2990du91u9eu9u129u9909",-1))),J={key:0,class:"btnRow"},K={key:1,class:"btnWrap"},M=e({__name:"chooseAddress",emits:["close"],setup(e,{emit:C}){const y=a();let _=l(!0);const b=C,f=()=>{b("close")},g=[],k=l(1),N=()=>{_.value=!1,f()},U=()=>{_.value=!1,f(),y.push({path:"/withdraw/addAddress"})};return(e,a)=>{const l=$,C=w;return s(),u(C,{show:m(_),"onUpdate:show":a[0]||(a[0]=e=>h(_)?_.value=e:_=e),position:"bottom",round:"",closeable:"",onClose:f},{default:n((()=>[t("div",{class:"head"},[q,t("img",{class:"close",onClick:f,src:Q})]),t("div",L,[0==g.length?(s(),r("div",O,z)):(s(),r("ul",E,[(s(),r(c,null,o(g,((e,a)=>t("li",{class:i(""+(k.value==e.value?"active":"")),key:a,onClick:a=>(e=>{k.value=e.value})(e)},[t("p",P,v(e.label),1),G],10,H))),64))]))]),0==g.length?(s(),r("div",J,[d(l,{type:"primary",block:"",onClick:U},{default:n((()=>[p("添加新地址")])),_:1})])):(s(),r("div",K,[d(l,null,{default:n((()=>[p(" 生成新地址 ")])),_:1}),d(l,{type:"primary",onClick:N},{default:n((()=>[p(" 确认 ")])),_:1})]))])),_:1},8,["show"])}}},[["__scopeId","data-v-4180eb19"]]),X={class:"head"},Y={class:"content"},Z={class:"radioList"},ee=["onClick"],ae={class:"whiteBig"},le={class:"row2"},se={class:"btnRow"},ue=e({__name:"netsPop",props:["currenctCoin","supportChains"],emits:["close"],setup(e,{emit:a}){const{t:C}=_();let y=l(!0);const N=a,U=e,j=b((()=>U.currenctCoin)),x=b((()=>U.supportChains)),W=()=>{N("close")},F=l({});f((async()=>{j.value&&j.value.selectedChain&&(F.value=x.value.find((e=>e.currency==j.value.selectedChain))),console.log(j.value.selectedChain)}));const I=()=>{F.value.currency?(y.value=!1,N("confirm",F.value),W()):k(C("请选择转帐网络"))};return(e,a)=>{const l=$,_=w;return s(),u(_,{show:m(y),"onUpdate:show":a[0]||(a[0]=e=>h(y)?y.value=e:y=e),position:"bottom",round:"",closeable:"",onClose:W},{default:n((()=>[t("div",X,[t("span",null,v(m(C)("转帐网络")),1),t("img",{class:"close",onClick:W,src:Q})]),t("div",Y,[t("ul",Z,[(s(!0),r(c,null,o(x.value,((e,a)=>(s(),r("li",{class:i(""+(F.value.currency==e.currency?"active":"")),key:a,onClick:a=>(e=>{F.value=e})(e)},[t("p",null,[t("span",ae,v(e.name),1),p(),g("",!0)]),t("p",le,[t("span",null,v(m(C)("手续费"))+" "+v(j.value.withdrawFee)+" "+v(j.value.currency.toUpperCase()),1),g("",!0)])],10,ee)))),128)),g("",!0)])]),t("div",se,[d(l,{type:"primary",block:"",onClick:I},{default:n((()=>[p(v(m(C)("确认")),1)])),_:1})])])),_:1},8,["show"])}}},[["__scopeId","data-v-4f9a7990"]]),ne={class:"head"},te={class:"content"},re={class:"topRow"},ce={class:"whiteBig"},oe={class:"whiteMid"},ie={class:"downInfo"},ve={class:"value"},de={class:"value"},pe={class:"value"},me={class:"value"},he={class:"value"},we={class:"btnRow"},Ce=e({__name:"confirmDeal",props:["currenctCoin","withdrawData"],emits:["close","confirm"],setup(e,{emit:a}){const{t:r}=_();let c=l(!0);const o=a,i=e,C=b((()=>i.currenctCoin)),y=b((()=>i.withdrawData)),f=()=>{o("close")},g=()=>{c.value=!1,o("confirm")};return(e,a)=>{const l=$,o=w;return s(),u(o,{show:m(c),"onUpdate:show":a[0]||(a[0]=e=>h(c)?c.value=e:c=e),position:"bottom",round:"",closeable:"",onClose:f},{default:n((()=>[t("div",ne,[t("span",null,v(m(r)("确认订单")),1),t("img",{class:"close",onClick:f,src:Q})]),t("div",te,[t("div",re,[t("span",null,v(m(r)("实际到账：")),1),t("p",null,[t("span",ce,v(y.value.amount),1),p(),t("span",oe,v(C.value.currency.toUpperCase()),1)])]),t("ul",ie,[t("li",null,[t("span",null,v(m(r)("提币地址")),1),t("div",ve,[t("span",null,v(y.value.withdrawAddress),1)])]),t("li",null,[t("span",null,v(m(r)("主网络")),1),t("div",de,[t("span",null,v(y.value.chainCurrency),1)])]),t("li",null,[t("span",null,v(m(r)("币种")),1),t("div",pe,[t("span",null,v(C.value.currency.toUpperCase()),1)])]),t("li",null,[t("span",null,v(m(r)("金额")),1),t("div",me,[t("span",null,v(Number(y.value.amount)+Number(C.value.withdrawFee))+" "+v(C.value.currency.toUpperCase()),1)])]),t("li",null,[t("span",null,v(m(r)("提币手续费")),1),t("div",he,[t("span",null,v(C.value.withdrawFee)+" "+v(C.value.currency.toUpperCase()),1)])])])]),t("div",we,[d(l,{type:"primary",block:"",onClick:g},{default:n((()=>[p(v(m(r)("确认")),1)])),_:1})])])),_:1},8,["show"])}}},[["__scopeId","data-v-922b3a91"]]),ye=e=>(C("data-v-f710d1dd"),e=e(),y(),e),_e=ye((()=>t("img",{class:"question",src:D},null,-1))),be={class:"formList"},fe={class:"label"},ge={class:"item active"},ke={class:"label"},Ne={class:"item"},Ue=[ye((()=>t("img",{src:R},null,-1)))],je={key:0,class:"label"},xe={key:1,class:"item"},We={class:"label"},Fe={class:"item inputRow"},Ie={class:"rightTips"},$e={key:0,class:"tips errTips"},Ae={class:"tips"},Ve={class:"downTips"},Be={class:"tittle"},De={class:"w"},Re={class:"g"},Qe={key:0,class:"downBlock"},Se={class:"leftCol cols"},Te={class:"greyS"},qe={class:"whiteBig"},Le={class:"whiteS"},Oe={class:"greyS"},ze={class:"rightCol cols"},Ee=e({__name:"index",setup(e){const{t:o}=_(),i=N(),h=U(),w=j(),C=b((()=>i.getCash("spot",R.params.coin.toUpperCase()))),y=b((()=>h.userInfo));b((()=>null==h.userInfo?null:h.userInfo.security));const B=l(""),D=a(),R=x(),Q=l({currency:"--",selectedChain:"--"}),S=l([]),T=l([]),q=l("");l(!1);const L=l({});f((async()=>{await W.getUserInfo(),await z(),await E()}));const O=b((()=>P.value&&Q.value.withdrawFee?Number(P.value)<Number(Q.value.minWithdraw)||Number(P.value)<Number(Q.value.withdrawFee)||Number(P.value)>Number(C.value)?0:Number(P.value)+Number(Q.value.withdrawFee)>Number(C.value)?Number(C.value)-Number(Q.value.withdrawFee):Number(P.value):0)),z=async()=>{F.getAssets("spot");const{data:e}=await F.getWithdrawQuota({coin:R.params.coin});if(Q.value=e,Q.value.enableWithdraw&&null!=Q.value.supportChains&&0!=Q.value.supportChains.length){let e=Q.value.supportChains;1==e.length?(te.value=!0,J.value=e[0],S.value=e,Q.value.selectedChain=e[0].currency,e[0].currency==w.chain&&(B.value=w.address)):0==e.length?H.value=3:(te.value=!0,S.value=e,S.value.forEach((e=>{e.currency==w.chain&&(B.value=w.address,Q.value.selectedChain=e.currency)})),X())}else te.value=!1,k({message:o("暂停提现")})},E=async()=>{if(!h.isLogin())return;const{data:e}=await F.getWithdrawAddress({mid:y.value.mid,coin:R.params.coin});e&&(T.value=e)},H=l(2),P=l(""),G=l(""),J=l({}),K=l(!1),X=()=>{K.value=!0},Y=()=>{K.value=!1},Z=l(!1),ee=()=>{Z.value=!1},ae=l(!1),le=()=>{""!=B.value?""!=P.value&&0!=Number(P.value)?(L.value={amount:O,withdrawAddress:B.value,currency:Q.value.currency,chainCurrency:J.value.currency},ae.value=!0):k({message:o("请输入提币数量")}):k({message:o("请选择提币地址")})},se=()=>{ae.value=!1,oe()},ne=()=>{ae.value=!1},te=l(!1),re=()=>{P.value=C.value},ce=e=>{Q.value.selectedChain!=e.currency&&(B.value=""),""==B.value&&e.currency==w.chain&&(B.value=w.address),Q.value.selectedChain=e.currency,J.value=e,Y(),J.value.withdrawHasComment},oe=async e=>{const a={amount:O.value,withdrawAddress:B.value,currency:Q.value.currency,chainCurrency:J.value.currency,comment:G.value};console.log(a);const{data:l}=await F.createWithdrawOrder(a);l&&(k({message:o("提现成功")}),D.push({path:"/withdrawDetail/"+l}))};return I(P,(()=>{P.value&&Q.value.minWithdraw&&(""!=B.value?Number(P.value)<Number(Q.value.minWithdraw)?q.value=`${o("最小提现数量为")}${Q.value.minWithdraw}`:Number(P.value)<Number(Q.value.withdrawFee)?q.value=`${o("提现数量不能小于手续费")}${Q.value.withdrawFee}`:Number(P.value)>Number(C.value)?q.value=`${o("提现数量不能大于可用余额")}${C.value}`:J.value&&J.value.hasWithdrawComment&&""==G.value?q.value=o("请输入Comment"):q.value="":q.value=o("请选择提币地址"))})),(e,a)=>{var l;const i=V,h=A,w=$;return s(),r("div",null,[d(i,{headTt:`${m(o)("提现")} ${Q.value.currency.toUpperCase()}`},{default:n((()=>[_e])),_:1},8,["headTt"]),t("div",be,[t("p",fe,v(m(o)("提币地址")),1),t("div",ge,[d(h,{modelValue:B.value,"onUpdate:modelValue":a[0]||(a[0]=e=>B.value=e)},null,8,["modelValue"])]),t("p",ke,v(m(o)("转账网络")),1),t("div",Ne,[t("span",null,v(J.value.name??m(o)("选择主网")),1),t("div",{class:"rightCol",onClick:X},Ue)]),J.value&&J.value.hasWithdrawComment?(s(),r("p",je,v(m(o)("Comment")),1)):g("",!0),J.value&&J.value.hasWithdrawComment?(s(),r("div",xe,[d(h,{modelValue:G.value,"onUpdate:modelValue":a[1]||(a[1]=e=>G.value=e),placeholder:`${m(o)("输入 Comment")}`,"update:model-value":"comment"},null,8,["modelValue","placeholder"])])):g("",!0),2==H.value?(s(),r(c,{key:2},[t("p",We,v(m(o)("提现金额")),1),t("div",Fe,[d(h,{modelValue:P.value,"onUpdate:modelValue":a[2]||(a[2]=e=>P.value=e),placeholder:`${m(o)("最少")} ${Q.value.minWithdraw??"0"}`,"update:model-value":"value"},null,8,["modelValue","placeholder"]),t("div",Ie,[t("span",null,v(Q.value.currency.toUpperCase()),1),t("span",{class:"active",onClick:re},v(m(o)("全部提现")),1)])]),""!=q.value?(s(),r("div",$e,v(q.value),1)):g("",!0),t("div",Ae,v(m(o)("可用余额"))+": "+v(C.value)+" "+v(Q.value.currency.toUpperCase()),1),t("div",Ve,[t("p",Be,v(m(o)("提示")),1),t("ul",null,[t("li",null,[p("·"+v(m(o)("24小时可用限额"))+" ",1),t("span",De,v(Q.value.totalQuota-Q.value.usedQuota)+"/ "+v(Q.value.totalQuota)+" "+v(null==(l=Q.value.configCurrency)?void 0:l.toUpperCase()),1)]),t("li",null,[p("·"+v(m(o)("站内转账免手续费"))+" ",1),t("span",Re,v(m(o)("了解详情"))+" > ",1)]),t("li",null,"·"+v(m(o)("请勿直接提现至少众筹或ICO地址，否则将无法收到众筹或ICO发放的代币")),1)])])],64)):g("",!0)]),te.value?(s(),r("div",Qe,[t("div",Se,[t("p",Te,v(m(o)("到账数量")),1),t("p",null,[t("span",qe,v(O.value),1),p(),t("span",Le,v(Q.value.currency.toUpperCase()),1)]),t("p",Oe,[t("span",null,v(m(o)("网络手续费")),1),p(),t("span",null,v(Q.value.withdrawFee),1),p(),t("span",null,v(Q.value.currency.toUpperCase()),1)])]),t("div",ze,[d(w,{type:"primary",disabled:""!=q.value,onClick:le},{default:n((()=>[p(v(m(o)("提现")),1)])),_:1},8,["disabled"])])])):g("",!0),Z.value?(s(),u(M,{key:1,onClose:ee,withdrawAddress:T.value},null,8,["withdrawAddress"])):g("",!0),K.value?(s(),u(ue,{key:2,onClose:Y,currenctCoin:Q.value,supportChains:S.value,onConfirm:ce},null,8,["currenctCoin","supportChains"])):g("",!0),ae.value?(s(),u(Ce,{key:3,onClose:ne,onConfirm:se,currenctCoin:Q.value,withdrawData:L.value},null,8,["currenctCoin","withdrawData"])):g("",!0)])}}},[["__scopeId","data-v-f710d1dd"]]);export{Ee as default};
