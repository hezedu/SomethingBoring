import{a1 as t,a2 as e,a3 as r,h as o,a as n,au as i,a6 as a,aG as s,a5 as l,be as c,ar as h,a9 as u,_ as d,u as g,f,w as p,o as m,l as v,z as y,b as w,C as b,m as A,c as C,B as x,G as B,F as k,E as D,ao as P,s as E,af as T,cv as R,cw as S,cx as I,n as M,t as L,x as _,bJ as O,j as N,b9 as U,J as j,K as F,c9 as z}from"./index-CioBjTVG.js";import{F as Q}from"./index-C9iF-GfQ.js";import{B as G}from"./index-h3qOpuro.js";import{_ as q}from"./headItem-Cz9qCjk4.js";import{a as H,_ as J}from"./img_chongzhi_empty@2x-CaK-8mkd.js";import{_ as $}from"./img_tixian_shenhe_doing@2x2-BQ1o-0k-.js";import{_ as K}from"./icon_navbar_close_nor@2x-cBiUEbVd.js";import"./use-id-CcbAo3SX.js";const[X,Y]=t("row"),V=Symbol(X);var Z=e({name:X,props:{tag:i("div"),wrap:a,align:String,gutter:{type:[String,Number,Array],default:0},justify:String},setup(t,{slots:e}){const{children:i,linkChildren:a}=r(V),s=o((()=>{const t=[[]];let e=0;return i.forEach(((r,o)=>{e+=Number(r.span),e>24?(t.push([o]),e-=24):t[t.length-1].push(o)})),t}));return a({spaces:o((()=>{let e=0;e=Array.isArray(t.gutter)?Number(t.gutter[0])||0:Number(t.gutter);const r=[];return e?(s.value.forEach((t=>{const o=e*(t.length-1)/t.length;t.forEach(((t,n)=>{if(0===n)r.push({right:o});else{const n=e-r[t-1].right,i=o-n;r.push({left:n,right:i})}}))})),r):r})),verticalSpaces:o((()=>{const{gutter:e}=t,r=[];if(Array.isArray(e)&&e.length>1){const t=Number(e[1])||0;if(t<=0)return r;s.value.forEach(((e,o)=>{o!==s.value.length-1&&e.forEach((()=>{r.push({bottom:t})}))}))}return r}))}),()=>{const{tag:r,wrap:o,align:i,justify:a}=t;return n(r,{class:Y({[`align-${i}`]:i,[`justify-${a}`]:a,nowrap:!o})},{default:()=>{var t;return[null==(t=e.default)?void 0:t.call(e)]}})}}});const[W,tt]=t("col");const et=u(e({name:W,props:{tag:i("div"),span:s(0),offset:l},setup(t,{slots:e}){const{parent:r,index:i}=c(V),a=o((()=>{if(!r)return;const{spaces:t,verticalSpaces:e}=r;let o={};if(t&&t.value&&t.value[i.value]){const{left:e,right:r}=t.value[i.value];o={paddingLeft:e?`${e}px`:null,paddingRight:r?`${r}px`:null}}const{bottom:n}=e.value[i.value]||{};return h(o,{marginBottom:n?`${n}px`:null})}));return()=>{const{tag:r,span:o,offset:i}=t;return n(r,{style:a.value,class:tt({[o]:o,[`offset-${i}`]:i})},{default:()=>{var t;return[null==(t=e.default)?void 0:t.call(e)]}})}}})),rt=u(Z),ot="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAi1JREFUaEPtWN1KAkEYPfmHaWR4Y0JuZXXbZmSE0k1YPUMlvV4UvUAlQUQiFZTURWlSmEFBQZoXXrhbzEBRYrs7zSxSzV7PnPOdc75vhp2u8ED0Fb/465ICOpyeTKDDAeD/JOD1ehEdicLn9wkz/aX2gsuLSy48SwkMDQ8htZCC2+3mImu3ObOdQbFQ/DGuqQB/jx/L6WW4XK4fkxht3M3scqVgKkCNqUgkE7SG6nMVhUJBmBCCx+M+KcRUwNT0FOLTcVr00eERjg+PhQkQASQFiHCRB0NIAh6PB8qgAqfTyVML3atpGiq3FTQaDUtY3ALI3TCXmhN6xDabTexs7eDm+sZUBJeAbl830qtpW45YImJ9bR21as1QBJeAcXUcydkkJajX6zR63i8cDiPQF6Aw+3v7OD87t0+AHUcsKyZXAqxkVtJhxZQCRN/SMoHWPjVyhNUtOQNtHJBDLIe4pS1Y50q2kGwh2UImz+vyIrNy/X5aI/wUGh0bxfziPKUgv3lXxasPOlYyK1pYMU2PUUIaUSJ41XVUKndfamAl65iA74ilgDbOsJpiqYX+bAKxyRhmEjNU38P9A8rlspU2N1yjKApC/SG6JnuQRf4kz/cqYbS7N9CLpZUlOBwO7sJbAXRdx+bGJp4en+wTQJDVCZWmIFIEKT6XzSF/auw+4eeagXdrgsEgIoMRIc+LWlNDqVQyfZF75xYiQHj/MABKAQxm2bJUJmCLrQygvz6BN086Pm9XGjv9AAAAAElFTkSuQmCC",nt={class:"head"},it={class:"content"},at={class:"tips"},st={class:"radioList"},lt=["onClick"],ct={class:"btnRow"},ht=d({__name:"netsPop",props:["supportChains","currectSupportChain"],emits:["close"],setup(t,{emit:e}){const{t:r}=g();let i=f(!0);const a=t,s=o((()=>a.supportChains)),l=o((()=>a.currectSupportChain)),c=e,h=()=>{c("close")},u=f({}),d=()=>{u.value.currency?(i.value=!1,c("confirm",u.value)):E(r("请选择转帐网络"))};return p(l.value.currency,(()=>{u.value=l.value})),(t,e)=>{const o=G,a=T;return m(),v(a,{show:A(i),"onUpdate:show":e[0]||(e[0]=t=>P(i)?i.value=t:i=t),position:"bottom",round:"",closeable:"",onClose:h},{default:y((()=>[w("div",nt,[w("span",null,b(A(r)("转帐网络")),1),w("img",{class:"close",onClick:h,src:K})]),w("div",it,[w("div",at,b(A(r)("请确保您选择的充值主网和您在提币时选择的主网一致，否则可能造成资产丢失。")),1),w("ul",st,[(m(!0),C(k,null,x(s.value,((t,e)=>{var r;return m(),C("li",{class:B(""+((null==(r=u.value)?void 0:r.currency)==t.currency?"active":"")),key:e,onClick:e=>(t=>{u.value=t})(t)},[w("span",null,b(t.name),1)],10,lt)})),128))])]),w("div",ct,[n(o,{type:"primary",block:"",onClick:d},{default:y((()=>[D(b(A(r)("确认")),1)])),_:1})])])),_:1},8,["show"])}}},[["__scopeId","data-v-d5dadac5"]]);function ut(t){return""===t?t:"true"===t||"1"==t}function dt(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function gt(t,e){for(var r,o="",n=0,i=-1,a=0,s=0;s<=t.length;++s){if(s<t.length)r=t.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(i===s-1||1===a);else if(i!==s-1&&2===a){if(o.length<2||2!==n||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2))if(o.length>2){var l=o.lastIndexOf("/");if(l!==o.length-1){-1===l?(o="",n=0):n=(o=o.slice(0,l)).length-1-o.lastIndexOf("/"),i=s,a=0;continue}}else if(2===o.length||1===o.length){o="",n=0,i=s,a=0;continue}e&&(o.length>0?o+="/..":o="..",n=2)}else o.length>0?o+="/"+t.slice(i+1,s):o=t.slice(i+1,s),n=s-i-1;i=s,a=0}else 46===r&&-1!==a?++a:a=-1}return o}var ft={resolve:function(){for(var t,e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var n;o>=0?n=arguments[o]:(void 0===t&&(t=R.cwd()),n=t),dt(n),0!==n.length&&(e=n+"/"+e,r=47===n.charCodeAt(0))}return e=gt(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(dt(t),0===t.length)return".";var e=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return 0!==(t=gt(t,!e)).length||e||(t="."),t.length>0&&r&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return dt(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];dt(r),r.length>0&&(void 0===t?t=r:t+="/"+r)}return void 0===t?".":ft.normalize(t)},relative:function(t,e){if(dt(t),dt(e),t===e)return"";if((t=ft.resolve(t))===(e=ft.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var o=t.length,n=o-r,i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var a=e.length-i,s=n<a?n:a,l=-1,c=0;c<=s;++c){if(c===s){if(a>s){if(47===e.charCodeAt(i+c))return e.slice(i+c+1);if(0===c)return e.slice(i+c)}else n>s&&(47===t.charCodeAt(r+c)?l=c:0===c&&(l=0));break}var h=t.charCodeAt(r+c);if(h!==e.charCodeAt(i+c))break;47===h&&(l=c)}var u="";for(c=r+l+1;c<=o;++c)c!==o&&47!==t.charCodeAt(c)||(0===u.length?u+="..":u+="/..");return u.length>0?u+e.slice(i+l):(i+=l,47===e.charCodeAt(i)&&++i,e.slice(i))},_makeLong:function(t){return t},dirname:function(t){if(dt(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,o=-1,n=!0,i=t.length-1;i>=1;--i)if(47===(e=t.charCodeAt(i))){if(!n){o=i;break}}else n=!1;return-1===o?r?"/":".":r&&1===o?"//":t.slice(0,o)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');dt(t);var r,o=0,n=-1,i=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var a=e.length-1,s=-1;for(r=t.length-1;r>=0;--r){var l=t.charCodeAt(r);if(47===l){if(!i){o=r+1;break}}else-1===s&&(i=!1,s=r+1),a>=0&&(l===e.charCodeAt(a)?-1==--a&&(n=r):(a=-1,n=s))}return o===n?n=s:-1===n&&(n=t.length),t.slice(o,n)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!i){o=r+1;break}}else-1===n&&(i=!1,n=r+1);return-1===n?"":t.slice(o,n)},extname:function(t){dt(t);for(var e=-1,r=0,o=-1,n=!0,i=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===o&&(n=!1,o=a+1),46===s?-1===e?e=a:1!==i&&(i=1):-1!==e&&(i=-1);else if(!n){r=a+1;break}}return-1===e||-1===o||0===i||1===i&&e===o-1&&e===r+1?"":t.slice(e,o)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+o:r+t+o:o}("/",t)},parse:function(t){dt(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r,o=t.charCodeAt(0),n=47===o;n?(e.root="/",r=1):r=0;for(var i=-1,a=0,s=-1,l=!0,c=t.length-1,h=0;c>=r;--c)if(47!==(o=t.charCodeAt(c)))-1===s&&(l=!1,s=c+1),46===o?-1===i?i=c:1!==h&&(h=1):-1!==i&&(h=-1);else if(!l){a=c+1;break}return-1===i||-1===s||0===h||1===h&&i===s-1&&i===a+1?-1!==s&&(e.base=e.name=0===a&&n?t.slice(1,s):t.slice(a,s)):(0===a&&n?(e.name=t.slice(1,i),e.base=t.slice(1,s)):(e.name=t.slice(a,i),e.base=t.slice(a,s)),e.ext=t.slice(i,s)),a>0?e.dir=t.slice(0,a-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};ft.posix=ft;const pt=ft.extname,mt=ft.basename;class vt{constructor(){let t=(()=>void 0===S)(),e="image/png",r="image/jpeg",o="image/jpeg",n="image/webp",i="application/pdf",a="image/svg+xml";Object.assign(this,{toMime:this.toMime.bind(this),fromMime:this.fromMime.bind(this),expected:t?'"png", "jpg", or "webp"':'"png", "jpg", "pdf", or "svg"',formats:t?{png:e,jpg:r,jpeg:o,webp:n}:{png:e,jpg:r,jpeg:o,pdf:i,svg:a},mimes:t?{[e]:"png",[r]:"jpg",[n]:"webp"}:{[e]:"png",[r]:"jpg",[i]:"pdf",[a]:"svg"}})}toMime(t){return this.formats[(t||"").replace(/^\./,"").toLowerCase()]}fromMime(t){return this.mimes[t]}}class yt{static for(t){return(new yt).append(t).get()}constructor(){this.crc=-1}get(){return~this.crc}append(t){for(var e=0|this.crc,r=this.table,o=0,n=0|t.length;o<n;o++)e=e>>>8^r[255&(e^t[o])];return this.crc=e,this}}function wt(t){let e=new Uint8Array(t),r=new DataView(e.buffer),o={array:e,view:r,size:t,set8:(t,e)=>(r.setUint8(t,e),o),set16:(t,e)=>(r.setUint16(t,e,!0),o),set32:(t,e)=>(r.setUint32(t,e,!0),o),bytes:(t,r)=>(e.set(r,t),o)};return o}yt.prototype.table=(()=>{var t,e,r,o=[];for(t=0;t<256;t++){for(r=t,e=0;e<8;e++)r=1&r?r>>>1^3988292384:r>>>1;o[t]=r}return o})();class bt{constructor(t){let e=new Date;Object.assign(this,{directory:t,offset:0,files:[],time:(e.getHours()<<6|e.getMinutes())<<5|e.getSeconds()/2,date:(e.getFullYear()-1980<<4|e.getMonth()+1)<<5|e.getDate()}),this.add(t)}async add(t,e){let r=!e,o=bt.encoder.encode(`${this.directory}/${r?"":t}`),n=new Uint8Array(r?0:await e.arrayBuffer()),i=30+o.length,a=i+n.length,{offset:s}=this,l=wt(26).set32(0,134742036).set16(6,this.time).set16(8,this.date).set32(10,yt.for(n)).set32(14,n.length).set32(18,n.length).set16(22,o.length);s+=i;let c=wt(i+n.length+16).set32(0,67324752).bytes(4,l.array).bytes(30,o).bytes(i,n);s+=n.length,c.set32(a,134695760).bytes(a+4,l.array.slice(10,22)),s+=16,this.files.push({offset:s,folder:r,name:o,header:l,payload:c}),this.offset=s}toBuffer(){let t=this.files.reduce(((t,{name:e})=>46+e.length+t),0),e=wt(t+22),r=0;for(var{offset:o,name:n,header:i,folder:a}of this.files)e.set32(r,33639248).set16(r+4,20).bytes(r+6,i.array).set8(r+38,a?16:0).set32(r+42,o).bytes(r+46,n),r+=46+n.length;e.set32(r,101010256).set16(r+8,this.files.length).set16(r+10,this.files.length).set32(r+12,t).set32(r+16,this.offset);let s=new Uint8Array(this.offset+e.size),l=0;for(var{payload:c}of this.files)s.set(c.array,l),l+=c.size;return s.set(e.array,l),s}get blob(){return new Blob([this.toBuffer()],{type:"application/zip"})}}bt.encoder=new TextEncoder;const At=(t,e,r,o)=>{if(o){let{width:e,height:r}=t,n=Object.assign(document.createElement("canvas"),{width:e,height:r}),i=n.getContext("2d");i.fillStyle=o,i.fillRect(0,0,e,r),i.drawImage(t,0,0),t=n}return new Promise(((o,n)=>t.toBlob(o,e,r)))},Ct=(t,e)=>{const r=window.URL.createObjectURL(e),o=document.createElement("a");o.style.display="none",o.href=r,o.setAttribute("download",t),void 0===o.download&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),document.body.removeChild(o),setTimeout((()=>window.URL.revokeObjectURL(r)),100)},xt={asBuffer:(...t)=>At(...t).then((t=>t.arrayBuffer())),asDownload:async(t,e,r,o,n)=>{Ct(n,await At(t,e,r,o))},asZipDownload:async(t,e,r,o,n,i,a)=>{let s=mt(n,".zip")||"archive",l=new bt(s);await Promise.all(t.map((async(t,n)=>{let s=(t=>i.replace("{}",String(t+1).padStart(a,"0")))(n);await l.add(s,await At(t,e,r,o))}))),Ct(`${s}.zip`,l.blob)},atScale:(t,e,r)=>t.map((t=>{if(1==e&&!r)return t.canvas;let o=document.createElement("canvas"),n=o.getContext("2d"),i=t.canvas?t.canvas:t;return o.width=i.width*e,o.height=i.height*e,r&&(n.fillStyle=r,n.fillRect(0,0,o.width,o.height)),n.scale(e,e),n.drawImage(i,0,0),o})),options:function(t,{filename:e="",extension:r="",format:o,page:n,quality:i,matte:a,density:s,outline:l,archive:c}={}){var{fromMime:h,toMime:u,expected:d}=new vt,g=(c=c||"canvas",o||r.replace(/@\d+x$/i,"")||pt(e)),f=(o=h(u(g)||g),u(o)),p=t.length;if(!g)throw new Error("Cannot determine image format (use a filename extension or 'format' argument)");if(!o)throw new Error(`Unsupported file format "${g}" (expected ${d})`);if(!p)throw new RangeError("Canvas has no associated contexts (try calling getContext or newPage first)");let m,v,y=e.replace(/{(\d*)}/g,((t,e)=>(v=!0,e=parseInt(e,10),m=isFinite(e)?e:isFinite(m)?m:-1,"{}"))),w=n>0?n-1:n<0?p+n:void 0;if(isFinite(w)&&w<0||w>=p)throw new RangeError(1==p?`Canvas only has a ‘page 1’ (${w} is out of bounds)`:`Canvas has pages 1–${p} (${w} is out of bounds)`);if(t=isFinite(w)?[t[w]]:v||"pdf"==o?t:t.slice(-1),void 0===i)i=.92;else if("number"!=typeof i||!isFinite(i)||i<0||i>1)throw new TypeError("The quality option must be an number in the 0.0–1.0 range");if(void 0===s){let t=(r||mt(e,g)).match(/@(\d+)x$/i);s=t?parseInt(t[1],10):1}else if("number"!=typeof s||!Number.isInteger(s)||s<1)throw new TypeError("The density option must be a non-negative integer");return void 0===l?l=!0:"svg"==o&&(l=!!l),{filename:e,pattern:y,format:o,mime:f,pages:t,padding:m,quality:i,matte:a,density:s,outline:l,archive:c}}},{asBuffer:Bt,asDownload:kt,asZipDownload:Dt,atScale:Pt,options:Et}=xt,Tt=Symbol.for("toDataURL");const{CanvasRenderingContext2D:Rt,CanvasGradient:St,CanvasPattern:It,Image:Mt,ImageData:Lt,Path2D:_t,DOMMatrix:Ot,DOMRect:Nt,DOMPoint:Ut}=window,jt={Canvas:class{constructor(t,e){let r=document.createElement("canvas"),o=[];for(var[n,i]of(Object.defineProperty(r,"async",{value:!0,writable:!1,enumerable:!0}),Object.entries({png:()=>Bt(r,"image/png"),jpg:()=>Bt(r,"image/jpeg"),pages:()=>o.concat(r).map((t=>t.getContext("2d")))})))Object.defineProperty(r,n,{get:i});return Object.assign(r,{width:t,height:e,newPage(...t){var{width:e,height:n}=r,i=Object.assign(document.createElement("canvas"),{width:e,height:n});i.getContext("2d").drawImage(r,0,0),o.push(i);var[e,n]=t.length?t:[e,n];return Object.assign(r,{width:e,height:n}).getContext("2d")},saveAs(t,e){e="number"==typeof e?{quality:e}:e;let r=Et(this.pages,{filename:t,...e}),{pattern:o,padding:n,mime:i,quality:a,matte:s,density:l,archive:c}=r,h=Pt(r.pages,l);return null==n?kt(h[0],i,a,s,t):Dt(h,i,a,s,c,o,n)},toBuffer(t="png",e={}){e="number"==typeof e?{quality:e}:e;let r=Et(this.pages,{extension:t,...e}),{mime:o,quality:n,matte:i,pages:a,density:s}=r,l=Pt(a,s,i)[0];return Bt(l,o,n,i)},[Tt]:r.toDataURL.bind(r),toDataURL(t="png",e={}){e="number"==typeof e?{quality:e}:e;let o=Et(this.pages,{extension:t,...e}),{mime:n,quality:i,matte:a,pages:s,density:l}=o,c=Pt(s,l,a)[0],h=c[c===r?Tt:"toDataURL"](n,i);return Promise.resolve(h)}})}},loadImage:t=>new Promise(((e,r)=>Object.assign(new Mt,{crossOrigin:"Anonymous",onload:e,onerror:r,src:t}))),CanvasRenderingContext2D:Rt,CanvasGradient:St,CanvasPattern:It,Image:Mt,ImageData:Lt,Path2D:_t,DOMMatrix:Ot,DOMRect:Nt,DOMPoint:Ut},Ft=(t,e,r={},o=r)=>{if(Array.isArray(e))e.forEach((e=>Ft(t,e,r,o)));else if("function"==typeof e)e(t,r,o,Ft);else{const n=Object.keys(e)[0];Array.isArray(e[n])?(o[n]={},Ft(t,e[n],r,o[n])):o[n]=e[n](t,r,o,Ft)}return r},zt=(t,e)=>(r,o,n,i)=>{e(r,o,n)&&i(r,t,o,n)},Qt=(t=0)=>e=>e.data[e.pos+t],Gt=t=>e=>e.data.subarray(e.pos,e.pos+=t),qt=t=>e=>e.data.subarray(e.pos,e.pos+t),Ht=t=>e=>Array.from(Gt(t)(e)).map((t=>String.fromCharCode(t))).join(""),Jt=t=>t=>{const e=Gt(2)(t);return(e[1]<<8)+e[0]},$t=(t,e)=>(r,o,n)=>{const i="function"==typeof e?e(r,o,n):e,a=Gt(t),s=new Array(i);for(var l=0;l<i;l++)s[l]=a(r);return s},Kt=t=>e=>{const r=(t=>t.data[t.pos++])(e),o=new Array(8);for(var n=0;n<8;n++)o[7-n]=!!(r&1<<n);return Object.keys(t).reduce(((e,r)=>{const n=t[r];return n.length?e[r]=((t,e,r)=>{for(var o=0,n=0;n<r;n++)o+=t[e+n]&&2**(r-n-1);return o})(o,n.index,n.length):e[r]=o[n.index],e}),{})};var Xt={blocks:t=>{const e=[],r=t.data.length;for(var o=0,n=(t=>t.data[t.pos++])(t);0!==n&&n;n=(t=>t.data[t.pos++])(t)){if(t.pos+n>=r){const n=r-t.pos;e.push(Gt(n)(t)),o+=n;break}e.push(Gt(n)(t)),o+=n}const i=new Uint8Array(o);for(var a=0,s=0;s<e.length;s++)i.set(e[s],a),a+=e[s].length;return i}};const Yt=zt({gce:[{codes:Gt(2)},{byteSize:t=>t.data[t.pos++]},{extras:Kt({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:Jt()},{transparentColorIndex:t=>t.data[t.pos++]},{terminator:t=>t.data[t.pos++]}]},(t=>{var e=qt(2)(t);return 33===e[0]&&249===e[1]})),Vt=zt({image:[{code:t=>t.data[t.pos++]},{descriptor:[{left:Jt()},{top:Jt()},{width:Jt()},{height:Jt()},{lct:Kt({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},zt({lct:$t(3,((t,e,r)=>Math.pow(2,r.descriptor.lct.size+1)))},((t,e,r)=>r.descriptor.lct.exists)),{data:[{minCodeSize:t=>t.data[t.pos++]},Xt]}]},(t=>44===Qt()(t))),Zt=zt({text:[{codes:Gt(2)},{blockSize:t=>t.data[t.pos++]},{preData:(t,e,r)=>Gt(r.text.blockSize)(t)},Xt]},(t=>{var e=qt(2)(t);return 33===e[0]&&1===e[1]})),Wt=zt({application:[{codes:Gt(2)},{blockSize:t=>t.data[t.pos++]},{id:(t,e,r)=>Ht(r.blockSize)(t)},Xt]},(t=>{var e=qt(2)(t);return 33===e[0]&&255===e[1]})),te=zt({comment:[{codes:Gt(2)},Xt]},(t=>{var e=qt(2)(t);return 33===e[0]&&254===e[1]})),ee=[{header:[{signature:Ht(3)},{version:Ht(3)}]},{lsd:[{width:Jt()},{height:Jt()},{gct:Kt({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:t=>t.data[t.pos++]},{pixelAspectRatio:t=>t.data[t.pos++]}]},zt({gct:$t(3,((t,e)=>Math.pow(2,e.lsd.gct.size+1)))},((t,e)=>e.lsd.gct.exists)),{frames:(re=[Yt,Wt,te,Vt,Zt],oe=t=>{var e=Qt()(t);return 33===e||44===e},(t,e,r,o)=>{const n=[];let i=t.pos;for(;oe(t,e,r);){const r={};if(o(t,re,e,r),t.pos===i)break;i=t.pos,n.push(r)}return n})}];var re,oe;const ne=(t,e,r)=>{if(!t.image)return void console.warn("gif frame does not have associated image.");const{image:o}=t,n=o.descriptor.width*o.descriptor.height;var i=((t,e,r)=>{const o=4096,n=r;var i,a,s,l,c,h,u,d,g,f;const p=new Array(r),m=new Array(o),v=new Array(o),y=new Array(4097);for(c=1+(a=1<<(f=t)),i=a+2,u=-1,s=(1<<(l=f+1))-1,d=0;d<a;d++)m[d]=0,v[d]=d;var w,b,A,C,x,B;for(w=b=A=C=x=B=0,g=0;g<n;){if(0===C){if(b<l){w+=e[B]<<b,b+=8,B++;continue}if(d=w&s,w>>=l,b-=l,d>i||d==c)break;if(d==a){s=(1<<(l=f+1))-1,i=a+2,u=-1;continue}if(-1==u){y[C++]=v[d],u=d,A=d;continue}for(h=d,d==i&&(y[C++]=A,d=u);d>a;)y[C++]=v[d],d=m[d];A=255&v[d],y[C++]=A,i<o&&(m[i]=u,v[i]=A,!(++i&s)&&i<o&&(l++,s+=i)),u=h}C--,p[x++]=y[C],g++}for(g=x;g<n;g++)p[g]=0;return p})(o.data.minCodeSize,o.data.blocks,n);o.descriptor.lct.interlaced&&(i=((t,e)=>{const r=new Array(t.length),o=t.length/e,n=function(o,n){const i=t.slice(n*e,(n+1)*e);r.splice.apply(r,[o*e,e].concat(i))},i=[0,4,2,1],a=[8,8,4,2];for(var s=0,l=0;l<4;l++)for(var c=i[l];c<o;c+=a[l])n(c,s),s++;return r})(i,o.descriptor.width));const a={pixels:i,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return o.descriptor.lct&&o.descriptor.lct.exists?a.colorTable=o.lct:a.colorTable=e,t.gce&&(a.delay=10*(t.gce.delay||10),a.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(a.transparentIndex=t.gce.transparentColorIndex)),a.patch=(t=>{const e=t.pixels.length,r=new Uint8ClampedArray(4*e);for(var o=0;o<e;o++){const e=4*o,n=t.pixels[o],i=t.colorTable[n];r[e]=i[0],r[e+1]=i[1],r[e+2]=i[2],r[e+3]=n!==t.transparentIndex?255:0}return r})(a),a};function ie(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=Number(t)?3:0)}class ae{constructor(t){this.mode=ce.MODE_8BIT_BYTE,this.parsedData=[],this.data=t;const e=[];for(let r=0,o=this.data.length;r<o;r++){const t=[],o=this.data.charCodeAt(r);o>65536?(t[0]=240|(1835008&o)>>>18,t[1]=128|(258048&o)>>>12,t[2]=128|(4032&o)>>>6,t[3]=128|63&o):o>2048?(t[0]=224|(61440&o)>>>12,t[1]=128|(4032&o)>>>6,t[2]=128|63&o):o>128?(t[0]=192|(1984&o)>>>6,t[1]=128|63&o):t[0]=o,e.push(t)}this.parsedData=Array.prototype.concat.apply([],e),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}getLength(){return this.parsedData.length}write(t){for(let e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}}class se{constructor(t=-1,e=le.L){this.moduleCount=0,this.dataList=[],this.typeNumber=t,this.errorCorrectLevel=e,this.moduleCount=0,this.dataList=[]}addData(t){if(this.typeNumber<=0)this.typeNumber=function(t,e){for(var r=1,o=ie(t),n=0,i=me.length;n<i;n++){var a=0;switch(e){case le.L:a=me[n][0];break;case le.M:a=me[n][1];break;case le.Q:a=me[n][2];break;case le.H:a=me[n][3]}if(o<=a)break;r++}if(r>me.length)throw new Error("Too long data");return r}(t,this.errorCorrectLevel);else{if(this.typeNumber>40)throw new Error(`Invalid QR version: ${this.typeNumber}`);if(!function(t,e,r){const o=ie(e),n=t-1;let i=0;switch(r){case le.L:i=me[n][0];break;case le.M:i=me[n][1];break;case le.Q:i=me[n][2];break;case le.H:i=me[n][3]}return o<=i}(this.typeNumber,t,this.errorCorrectLevel))throw new Error(`Data is too long for QR version: ${this.typeNumber}`)}const e=new ae(t);this.dataList.push(e),this.dataCache=void 0}isDark(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(`${t},${e}`);return this.modules[t][e]}getModuleCount(){return this.moduleCount}make(){this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(let r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(let t=0;t<this.moduleCount;t++)this.modules[r][t]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=se.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)}setupPositionProbePattern(t,e){for(let r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(let o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(this.modules[t+r][e+o]=0<=r&&r<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=o&&o<=4)}getBestMaskPattern(){if(Number.isInteger(this.maskPattern)&&Object.values(he).includes(this.maskPattern))return this.maskPattern;let t=0,e=0;for(let r=0;r<8;r++){this.makeImpl(!0,r);const o=ue.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){const t=ue.getPatternPosition(this.typeNumber);for(let e=0;e<t.length;e++)for(let r=0;r<t.length;r++){const o=t[e],n=t[r];if(null==this.modules[o][n])for(let t=-2;t<=2;t++)for(let e=-2;e<=2;e++)this.modules[o+t][n+e]=-2==t||2==t||-2==e||2==e||0==t&&0==e}}setupTypeNumber(t){const e=ue.getBCHTypeNumber(this.typeNumber);for(var r=0;r<18;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(r=0;r<18;r++){o=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}}setupTypeInfo(t,e){const r=this.errorCorrectLevel<<3|e,o=ue.getBCHTypeInfo(r);for(var n=0;n<15;n++){var i=!t&&1==(o>>n&1);n<6?this.modules[n][8]=i:n<8?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(n=0;n<15;n++){i=!t&&1==(o>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=i:n<9?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!t}mapData(t,e){let r=-1,o=this.moduleCount-1,n=7,i=0;for(let a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(let r=0;r<2;r++)if(null==this.modules[o][a-r]){let s=!1;i<t.length&&(s=1==(t[i]>>>n&1));ue.getMask(e,o,a-r)&&(s=!s),this.modules[o][a-r]=s,n--,-1==n&&(i++,n=7)}if(o+=r,o<0||this.moduleCount<=o){o-=r,r=-r;break}}}static createData(t,e,r){const o=fe.getRSBlocks(t,e),n=new pe;for(var i=0;i<r.length;i++){const e=r[i];n.put(e.mode,4),n.put(e.getLength(),ue.getLengthInBits(e.mode,t)),e.write(n)}let a=0;for(i=0;i<o.length;i++)a+=o[i].dataCount;if(n.getLengthInBits()>8*a)throw new Error(`code length overflow. (${n.getLengthInBits()}>${8*a})`);for(n.getLengthInBits()+4<=8*a&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*a||(n.put(se.PAD0,8),n.getLengthInBits()>=8*a));)n.put(se.PAD1,8);return se.createBytes(n,o)}static createBytes(t,e){let r=0,o=0,n=0;const i=new Array(e.length),a=new Array(e.length);for(var s=0;s<e.length;s++){const c=e[s].dataCount,h=e[s].totalCount-c;o=Math.max(o,c),n=Math.max(n,h),i[s]=new Array(c);for(var l=0;l<i[s].length;l++)i[s][l]=255&t.buffer[l+r];r+=c;const u=ue.getErrorCorrectPolynomial(h),d=new ge(i[s],u.getLength()-1).mod(u);a[s]=new Array(u.getLength()-1);for(l=0;l<a[s].length;l++){const t=l+d.getLength()-a[s].length;a[s][l]=t>=0?d.get(t):0}}let c=0;for(l=0;l<e.length;l++)c+=e[l].totalCount;const h=new Array(c);let u=0;for(l=0;l<o;l++)for(s=0;s<e.length;s++)l<i[s].length&&(h[u++]=i[s][l]);for(l=0;l<n;l++)for(s=0;s<e.length;s++)l<a[s].length&&(h[u++]=a[s][l]);return h}}se.PAD0=236,se.PAD1=17;const le={L:1,M:0,Q:3,H:2},ce={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},he={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};class ue{static getBCHTypeInfo(t){let e=t<<10;for(;ue.getBCHDigit(e)-ue.getBCHDigit(ue.G15)>=0;)e^=ue.G15<<ue.getBCHDigit(e)-ue.getBCHDigit(ue.G15);return(t<<10|e)^ue.G15_MASK}static getBCHTypeNumber(t){let e=t<<12;for(;ue.getBCHDigit(e)-ue.getBCHDigit(ue.G18)>=0;)e^=ue.G18<<ue.getBCHDigit(e)-ue.getBCHDigit(ue.G18);return t<<12|e}static getBCHDigit(t){let e=0;for(;0!=t;)e++,t>>>=1;return e}static getPatternPosition(t){return ue.PATTERN_POSITION_TABLE[t-1]}static getMask(t,e,r){switch(t){case he.PATTERN000:return(e+r)%2==0;case he.PATTERN001:return e%2==0;case he.PATTERN010:return r%3==0;case he.PATTERN011:return(e+r)%3==0;case he.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case he.PATTERN101:return e*r%2+e*r%3==0;case he.PATTERN110:return(e*r%2+e*r%3)%2==0;case he.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error(`bad maskPattern:${t}`)}}static getErrorCorrectPolynomial(t){let e=new ge([1],0);for(let r=0;r<t;r++)e=e.multiply(new ge([1,de.gexp(r)],0));return e}static getLengthInBits(t,e){if(1<=e&&e<10)switch(t){case ce.MODE_NUMBER:return 10;case ce.MODE_ALPHA_NUM:return 9;case ce.MODE_8BIT_BYTE:case ce.MODE_KANJI:return 8;default:throw new Error(`mode:${t}`)}else if(e<27)switch(t){case ce.MODE_NUMBER:return 12;case ce.MODE_ALPHA_NUM:return 11;case ce.MODE_8BIT_BYTE:return 16;case ce.MODE_KANJI:return 10;default:throw new Error(`mode:${t}`)}else{if(!(e<41))throw new Error(`type:${e}`);switch(t){case ce.MODE_NUMBER:return 14;case ce.MODE_ALPHA_NUM:return 13;case ce.MODE_8BIT_BYTE:return 16;case ce.MODE_KANJI:return 12;default:throw new Error(`mode:${t}`)}}}static getLostPoint(t){const e=t.getModuleCount();let r=0;for(var o=0;o<e;o++)for(var n=0;n<e;n++){let i=0;const a=t.isDark(o,n);for(let r=-1;r<=1;r++)if(!(o+r<0||e<=o+r))for(let s=-1;s<=1;s++)n+s<0||e<=n+s||0==r&&0==s||a==t.isDark(o+r,n+s)&&i++;i>5&&(r+=3+i-5)}for(o=0;o<e-1;o++)for(n=0;n<e-1;n++){let e=0;t.isDark(o,n)&&e++,t.isDark(o+1,n)&&e++,t.isDark(o,n+1)&&e++,t.isDark(o+1,n+1)&&e++,0!=e&&4!=e||(r+=3)}for(o=0;o<e;o++)for(n=0;n<e-6;n++)t.isDark(o,n)&&!t.isDark(o,n+1)&&t.isDark(o,n+2)&&t.isDark(o,n+3)&&t.isDark(o,n+4)&&!t.isDark(o,n+5)&&t.isDark(o,n+6)&&(r+=40);for(n=0;n<e;n++)for(o=0;o<e-6;o++)t.isDark(o,n)&&!t.isDark(o+1,n)&&t.isDark(o+2,n)&&t.isDark(o+3,n)&&t.isDark(o+4,n)&&!t.isDark(o+5,n)&&t.isDark(o+6,n)&&(r+=40);let i=0;for(n=0;n<e;n++)for(o=0;o<e;o++)t.isDark(o,n)&&i++;return r+=10*(Math.abs(100*i/e/e-50)/5),r}}ue.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],ue.G15=1335,ue.G18=7973,ue.G15_MASK=21522;class de{static glog(t){if(t<1)throw new Error(`glog(${t})`);return de.LOG_TABLE[t]}static gexp(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return de.EXP_TABLE[t]}}de.EXP_TABLE=new Array(256),de.LOG_TABLE=new Array(256),de._constructor=function(){for(var t=0;t<8;t++)de.EXP_TABLE[t]=1<<t;for(t=8;t<256;t++)de.EXP_TABLE[t]=de.EXP_TABLE[t-4]^de.EXP_TABLE[t-5]^de.EXP_TABLE[t-6]^de.EXP_TABLE[t-8];for(t=0;t<255;t++)de.LOG_TABLE[de.EXP_TABLE[t]]=t}();class ge{constructor(t,e){if(null==t.length)throw new Error(`${t.length}/${e}`);let r=0;for(;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(let o=0;o<t.length-r;o++)this.num[o]=t[o+r]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){const e=new Array(this.getLength()+t.getLength()-1);for(let r=0;r<this.getLength();r++)for(let o=0;o<t.getLength();o++)e[r+o]^=de.gexp(de.glog(this.get(r))+de.glog(t.get(o)));return new ge(e,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;const e=de.glog(this.get(0))-de.glog(t.get(0)),r=new Array(this.getLength());for(var o=0;o<this.getLength();o++)r[o]=this.get(o);for(o=0;o<t.getLength();o++)r[o]^=de.gexp(de.glog(t.get(o))+e);return new ge(r,0).mod(t)}}class fe{constructor(t,e){this.totalCount=t,this.dataCount=e}static getRSBlocks(t,e){const r=fe.getRsBlockTable(t,e);if(null==r)throw new Error(`bad rs block @ typeNumber:${t}/errorCorrectLevel:${e}`);const o=r.length/3,n=[];for(let i=0;i<o;i++){const t=r[3*i+0],e=r[3*i+1],o=r[3*i+2];for(let r=0;r<t;r++)n.push(new fe(e,o))}return n}static getRsBlockTable(t,e){switch(e){case le.L:return fe.RS_BLOCK_TABLE[4*(t-1)+0];case le.M:return fe.RS_BLOCK_TABLE[4*(t-1)+1];case le.Q:return fe.RS_BLOCK_TABLE[4*(t-1)+2];case le.H:return fe.RS_BLOCK_TABLE[4*(t-1)+3];default:return}}}fe.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];class pe{constructor(){this.buffer=[],this.length=0}get(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)}put(t,e){for(let r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))}getLengthInBits(){return this.length}putBit(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}const me=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];var ve=256,ye=1024,we=1<<18;function be(t,e){var r,o,n,i,a;function s(t,e,o,n,i){r[e][0]-=t*(r[e][0]-o)/ye,r[e][1]-=t*(r[e][1]-n)/ye,r[e][2]-=t*(r[e][2]-i)/ye}function l(t,e,o,n,i){for(var s,l,c=Math.abs(e-t),h=Math.min(e+t,ve),u=e+1,d=e-1,g=1;u<h||d>c;)l=a[g++],u<h&&((s=r[u++])[0]-=l*(s[0]-o)/we,s[1]-=l*(s[1]-n)/we,s[2]-=l*(s[2]-i)/we),d>c&&((s=r[d--])[0]-=l*(s[0]-o)/we,s[1]-=l*(s[1]-n)/we,s[2]-=l*(s[2]-i)/we)}function c(t,e,o){var a,s,l,c,h,u=~(1<<31),d=u,g=-1,f=g;for(a=0;a<ve;a++)s=r[a],(l=Math.abs(s[0]-t)+Math.abs(s[1]-e)+Math.abs(s[2]-o))<u&&(u=l,g=a),(c=l-(n[a]>>12))<d&&(d=c,f=a),h=i[a]>>10,i[a]-=h,n[a]+=h<<10;return i[g]+=64,n[g]-=65536,f}this.buildColormap=function(){!function(){var t,e;for(r=[],o=new Int32Array(256),n=new Int32Array(ve),i=new Int32Array(ve),a=new Int32Array(32),t=0;t<ve;t++)e=(t<<12)/ve,r[t]=new Float64Array([e,e,e,0]),i[t]=256,n[t]=0}(),function(){var r,o,n,i,h,u,d=t.length,g=30+(e-1)/3,f=d/(3*e),p=~~(f/100),m=ye,v=2048,y=v>>6;for(y<=1&&(y=0),r=0;r<y;r++)a[r]=m*(256*(y*y-r*r)/(y*y));d<1509?(e=1,o=3):o=d%499!=0?1497:d%491!=0?1473:d%487!=0?1461:1509;var w=0;for(r=0;r<f;)if(s(m,u=c(n=(255&t[w])<<4,i=(255&t[w+1])<<4,h=(255&t[w+2])<<4),n,i,h),0!==y&&l(y,u,n,i,h),(w+=o)>=d&&(w-=d),0===p&&(p=1),++r%p==0)for(m-=m/g,(y=(v-=v/30)>>6)<=1&&(y=0),u=0;u<y;u++)a[u]=m*(256*(y*y-u*u)/(y*y))}(),function(){for(var t=0;t<ve;t++)r[t][0]>>=4,r[t][1]>>=4,r[t][2]>>=4,r[t][3]=t}(),function(){var t,e,n,i,a,s,l=0,c=0;for(t=0;t<ve;t++){for(a=t,s=(n=r[t])[1],e=t+1;e<ve;e++)(i=r[e])[1]<s&&(a=e,s=i[1]);if(i=r[a],t!=a&&(e=i[0],i[0]=n[0],n[0]=e,e=i[1],i[1]=n[1],n[1]=e,e=i[2],i[2]=n[2],n[2]=e,e=i[3],i[3]=n[3],n[3]=e),s!=l){for(o[l]=c+t>>1,e=l+1;e<s;e++)o[e]=t;l=s,c=t}}for(o[l]=c+255>>1,e=l+1;e<256;e++)o[e]=255}()},this.getColormap=function(){for(var t=[],e=[],o=0;o<ve;o++)e[r[o][3]]=o;for(var n=0,i=0;i<ve;i++){var a=e[i];t[n++]=r[a][0],t[n++]=r[a][1],t[n++]=r[a][2]}return t},this.lookupRGB=function(t,e,n){for(var i,a,s,l=1e3,c=-1,h=o[e],u=h-1;h<ve||u>=0;)h<ve&&((s=(a=r[h])[1]-e)>=l?h=ve:(h++,s<0&&(s=-s),(i=a[0]-t)<0&&(i=-i),(s+=i)<l&&((i=a[2]-n)<0&&(i=-i),(s+=i)<l&&(l=s,c=a[3])))),u>=0&&((s=e-(a=r[u])[1])>=l?u=-1:(u--,s<0&&(s=-s),(i=a[0]-t)<0&&(i=-i),(s+=i)<l&&((i=a[2]-n)<0&&(i=-i),(s+=i)<l&&(l=s,c=a[3]))));return c}}var Ae=5003,Ce=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function xe(t,e,r,o){var n,i,a,s,l,c,h,u,d,g=Math.max(2,o),f=new Uint8Array(256),p=new Int32Array(Ae),m=new Int32Array(Ae),v=0,y=0,w=!1;function b(t,e){f[i++]=t,i>=254&&x(e)}function A(t){C(Ae),y=l+2,w=!0,D(l,t)}function C(t){for(var e=0;e<t;++e)p[e]=-1}function x(t){i>0&&(t.writeByte(i),t.writeBytes(f,0,i),i=0)}function B(t){return(1<<t)-1}function k(){return 0===h?-1:(--h,255&r[u++])}function D(t,e){for(n&=Ce[v],v>0?n|=t<<v:n=t,v+=d;v>=8;)b(255&n,e),n>>=8,v-=8;if((y>a||w)&&(w?(a=B(d=s),w=!1):(++d,a=12==d?4096:B(d))),t==c){for(;v>0;)b(255&n,e),n>>=8,v-=8;x(e)}}this.encode=function(r){r.writeByte(g),h=t*e,u=0,function(t,e){var r,o,n,h,u,g,f;for(w=!1,a=B(d=s=t),c=1+(l=1<<t-1),y=l+2,i=0,h=k(),f=0,r=Ae;r<65536;r*=2)++f;f=8-f,C(g=Ae),D(l,e);t:for(;-1!=(o=k());)if(r=(o<<12)+h,p[n=o<<f^h]!==r){if(p[n]>=0){u=g-n,0===n&&(u=1);do{if((n-=u)<0&&(n+=g),p[n]===r){h=m[n];continue t}}while(p[n]>=0)}D(h,e),h=o,y<4096?(m[n]=y++,p[n]=r):A(e)}else h=m[n];D(h,e),D(c,e)}(g+1,r),r.writeByte(0)}}function Be(){this.page=-1,this.pages=[],this.newPage()}Be.pageSize=4096,Be.charMap={};for(var ke=0;ke<256;ke++)Be.charMap[ke]=String.fromCharCode(ke);function De(t,e){this.width=~~t,this.height=~~e,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new Be}Be.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(Be.pageSize),this.cursor=0},Be.prototype.getData=function(){for(var t="",e=0;e<this.pages.length;e++)for(var r=0;r<Be.pageSize;r++)t+=Be.charMap[this.pages[e][r]];return t},Be.prototype.toFlattenUint8Array=function(){const t=[];for(var e=0;e<this.pages.length;e++)if(e===this.pages.length-1){const r=Uint8Array.from(this.pages[e].slice(0,this.cursor));t.push(r)}else t.push(this.pages[e]);const r=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));return t.reduce(((t,e)=>(r.set(e,t),t+e.length)),0),r},Be.prototype.writeByte=function(t){this.cursor>=Be.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=t},Be.prototype.writeUTFBytes=function(t){for(var e=t.length,r=0;r<e;r++)this.writeByte(t.charCodeAt(r))},Be.prototype.writeBytes=function(t,e,r){for(var o=r||t.length,n=e||0;n<o;n++)this.writeByte(t[n])},De.prototype.setDelay=function(t){this.delay=Math.round(t/10)},De.prototype.setFrameRate=function(t){this.delay=Math.round(100/t)},De.prototype.setDispose=function(t){t>=0&&(this.dispose=t)},De.prototype.setRepeat=function(t){this.repeat=t},De.prototype.setTransparent=function(t){this.transparent=t},De.prototype.addFrame=function(t){this.image=t,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),!0===this.globalPalette&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeHeader(),this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.globalPalette||this.writePalette(),this.writePixels(),this.firstFrame=!1},De.prototype.finish=function(){this.out.writeByte(59)},De.prototype.setQuality=function(t){t<1&&(t=1),this.sample=t},De.prototype.setDither=function(t){!0===t&&(t="FloydSteinberg"),this.dither=t},De.prototype.setGlobalPalette=function(t){this.globalPalette=t},De.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette},De.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")},De.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new be(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),null!==this.dither.match(/-serpentine/)):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,null!==this.transparent&&(this.transIndex=this.findClosest(this.transparent,!0))},De.prototype.indexPixels=function(t){var e=this.pixels.length/3;this.indexedPixels=new Uint8Array(e);for(var r=0,o=0;o<e;o++){var n=this.findClosestRGB(255&this.pixels[r++],255&this.pixels[r++],255&this.pixels[r++]);this.usedEntry[n]=!0,this.indexedPixels[o]=n}},De.prototype.ditherPixels=function(t,e){var r={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!t||!r[t])throw"Unknown dithering kernel: "+t;var o=r[t],n=0,i=this.height,a=this.width,s=this.pixels,l=e?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var c=0;c<i;c++){e&&(l*=-1);for(var h=1==l?0:a-1,u=1==l?a:0;h!==u;h+=l){var d=3*(n=c*a+h),g=s[d],f=s[d+1],p=s[d+2];d=this.findClosestRGB(g,f,p),this.usedEntry[d]=!0,this.indexedPixels[n]=d,d*=3;for(var m=g-this.colorTab[d],v=f-this.colorTab[d+1],y=p-this.colorTab[d+2],w=1==l?0:o.length-1,b=1==l?o.length:0;w!==b;w+=l){var A=o[w][1],C=o[w][2];if(A+h>=0&&A+h<a&&C+c>=0&&C+c<i){var x=o[w][0];d=n+A+C*a,s[d*=3]=Math.max(0,Math.min(255,s[d]+m*x)),s[d+1]=Math.max(0,Math.min(255,s[d+1]+v*x)),s[d+2]=Math.max(0,Math.min(255,s[d+2]+y*x))}}}}},De.prototype.findClosest=function(t,e){return this.findClosestRGB((16711680&t)>>16,(65280&t)>>8,255&t,e)},De.prototype.findClosestRGB=function(t,e,r,o){if(null===this.colorTab)return-1;if(this.neuQuant&&!o)return this.neuQuant.lookupRGB(t,e,r);for(var n=0,i=16777216,a=this.colorTab.length,s=0,l=0;s<a;l++){var c=t-(255&this.colorTab[s++]),h=e-(255&this.colorTab[s++]),u=r-(255&this.colorTab[s++]),d=c*c+h*h+u*u;(!o||this.usedEntry[l])&&d<i&&(i=d,n=l)}return n},De.prototype.getImagePixels=function(){var t=this.width,e=this.height;this.pixels=new Uint8Array(t*e*3);for(var r=this.image,o=0,n=0,i=0;i<e;i++)for(var a=0;a<t;a++)this.pixels[n++]=r[o++],this.pixels[n++]=r[o++],this.pixels[n++]=r[o++],o++},De.prototype.writeGraphicCtrlExt=function(){var t,e;this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4),null===this.transparent?(t=0,e=0):(t=1,e=2),this.dispose>=0&&(e=7&this.dispose),e<<=2,this.out.writeByte(e|t),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},De.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},De.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},De.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},De.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var t=768-this.colorTab.length,e=0;e<t;e++)this.out.writeByte(0)},De.prototype.writeShort=function(t){this.out.writeByte(255&t),this.out.writeByte(t>>8&255)},De.prototype.writePixels=function(){new xe(this.width,this.height,this.indexedPixels,this.colorDepth).encode(this.out)},De.prototype.stream=function(){return this.out};var Pe=function(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{l(o.next(t))}catch(e){i(e)}}function s(t){try{l(o.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((o=o.apply(t,e||[])).next())}))};const{Canvas:Ee}=jt,Te=.4;function Re(t){if(t)return new Promise((function(r,o){if("data"==t.slice(0,4)){let n=new Image;return n.onload=function(){r(n),e(n)},n.onerror=function(){o("Image load error"),e(n)},void(n.src=t)}let n=new Image;n.setAttribute("crossOrigin","Anonymous"),n.onload=function(){r(n)},n.onerror=function(){o("Image load error")},n.src=t}));function e(t){t.onload=null,t.onerror=null}}class Se{constructor(t){const e=Object.assign({},t);if(Object.keys(Se.defaultOptions).forEach((t=>{t in e||Object.defineProperty(e,t,{value:Se.defaultOptions[t],enumerable:!0,writable:!0})})),e.components?"object"==typeof e.components&&Object.keys(Se.defaultComponentOptions).forEach((t=>{t in e.components?Object.defineProperty(e.components,t,{value:Object.assign(Object.assign({},Se.defaultComponentOptions[t]),e.components[t]),enumerable:!0,writable:!0}):Object.defineProperty(e.components,t,{value:Se.defaultComponentOptions[t],enumerable:!0,writable:!0})})):e.components=Se.defaultComponentOptions,null!==e.dotScale&&void 0!==e.dotScale){if(e.dotScale<=0||e.dotScale>1)throw new Error("dotScale should be in range (0, 1].");e.components.data.scale=e.dotScale,e.components.timing.scale=e.dotScale,e.components.alignment.scale=e.dotScale}this.options=e,this.canvas=new Ee(t.size,t.size),this.canvasContext=this.canvas.getContext("2d"),this.qrCode=new se(-1,this.options.correctLevel),Number.isInteger(this.options.maskPattern)&&(this.qrCode.maskPattern=this.options.maskPattern),Number.isInteger(this.options.version)&&(this.qrCode.typeNumber=this.options.version),this.qrCode.addData(this.options.text),this.qrCode.make()}draw(){return new Promise((t=>this._draw().then(t)))}_clear(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}static _prepareRoundedCornerClip(t,e,r,o,n,i){t.beginPath(),t.moveTo(e,r),t.arcTo(e+o,r,e+o,r+n,i),t.arcTo(e+o,r+n,e,r+n,i),t.arcTo(e,r+n,e,r,i),t.arcTo(e,r,e+o,r,i),t.closePath()}static _getAverageRGB(t){const e={r:0,g:0,b:0};let r,o,n=-4;const i={r:0,g:0,b:0};let a=0;o=t.naturalHeight||t.height,r=t.naturalWidth||t.width;const s=new Ee(r,o).getContext("2d");if(!s)return e;let l;s.drawImage(t,0,0);try{l=s.getImageData(0,0,r,o)}catch(c){return e}for(;(n+=20)<l.data.length;)l.data[n]>200||l.data[n+1]>200||l.data[n+2]>200||(++a,i.r+=l.data[n],i.g+=l.data[n+1],i.b+=l.data[n+2]);return i.r=~~(i.r/a),i.g=~~(i.g/a),i.b=~~(i.b/a),i}static _drawDot(t,e,r,o,n=0,i=1){t.fillRect((e+n)*o,(r+n)*o,i*o,i*o)}static _drawAlignProtector(t,e,r,o){t.clearRect((e-2)*o,(r-2)*o,5*o,5*o),t.fillRect((e-2)*o,(r-2)*o,5*o,5*o)}static _drawAlign(t,e,r,o,n=0,i=1,a,s){const l=t.fillStyle;t.fillStyle=a,new Array(4).fill(0).map(((a,s)=>{Se._drawDot(t,e-2+s,r-2,o,n,i),Se._drawDot(t,e+2,r-2+s,o,n,i),Se._drawDot(t,e+2-s,r+2,o,n,i),Se._drawDot(t,e-2,r+2-s,o,n,i)})),Se._drawDot(t,e,r,o,n,i),s||(t.fillStyle="rgba(255, 255, 255, 0.6)",new Array(2).fill(0).map(((a,s)=>{Se._drawDot(t,e-1+s,r-1,o,n,i),Se._drawDot(t,e+1,r-1+s,o,n,i),Se._drawDot(t,e+1-s,r+1,o,n,i),Se._drawDot(t,e-1,r+1-s,o,n,i)}))),t.fillStyle=l}_draw(){var t,e,r,o,n,i,a,s,l,c,h,u,d,g,f,p,m,v,y;return Pe(this,void 0,void 0,(function*(){const w=null===(t=this.qrCode)||void 0===t?void 0:t.moduleCount,b=this.options.size;let A=this.options.margin;(A<0||2*A>=b)&&(A=0);const C=Math.ceil(A),x=b-2*A,B=this.options.whiteMargin,k=this.options.backgroundDimming,D=Math.ceil(x/w),P=D*w,E=P+2*C,T=new Ee(E,E),R=T.getContext("2d");this._clear(),R.save(),R.translate(C,C);const S=new Ee(E,E),M=S.getContext("2d");let L=null,_=[];if(this.options.gifBackground){const t=(t=>{const e=new Uint8Array(t);return Ft({data:e,pos:0},ee)})(this.options.gifBackground);if(L=t,_=(O=t).frames.filter((t=>t.image)).map((t=>ne(t,O.gct))),this.options.autoColor){let t=0,e=0,r=0,o=0;for(let n=0;n<_[0].colorTable.length;n++){const i=_[0].colorTable[n];i[0]>200||i[1]>200||i[2]>200||(0===i[0]&&0===i[1]&&0===i[2]||(o++,t+=i[0],e+=i[1],r+=i[2]))}t=~~(t/o),e=~~(e/o),r=~~(r/o),this.options.colorDark=`rgb(${t},${e},${r})`}}else if(this.options.backgroundImage){const t=yield Re(this.options.backgroundImage);if(this.options.autoColor){const e=Se._getAverageRGB(t);this.options.colorDark=`rgb(${e.r},${e.g},${e.b})`}M.drawImage(t,0,0,t.width,t.height,0,0,E,E),M.rect(0,0,E,E),M.fillStyle=k,M.fill()}else M.rect(0,0,E,E),M.fillStyle=this.options.colorLight,M.fill();var O;const N=ue.getPatternPosition(this.qrCode.typeNumber),U=(null===(r=null===(e=this.options.components)||void 0===e?void 0:e.data)||void 0===r?void 0:r.scale)||Te,j=.5*(1-U);for(let t=0;t<w;t++)for(let e=0;e<w;e++){const r=this.qrCode.isDark(t,e),o=e<8&&(t<8||t>=w-8)||e>=w-8&&t<8;let n=o||(6==t&&e>=8&&e<=w-8||6==e&&t>=8&&t<=w-8);for(let s=1;s<N.length-1;s++)n=n||t>=N[s]-2&&t<=N[s]+2&&e>=N[s]-2&&e<=N[s]+2;const i=e*D+(n?0:j*D),a=t*D+(n?0:j*D);if(R.strokeStyle=r?this.options.colorDark:this.options.colorLight,R.lineWidth=.5,R.fillStyle=r?this.options.colorDark:this.options.colorLight,0===N.length)n||R.fillRect(i,a,(n?1:U)*D,(n?1:U)*D);else{n||e<w-4&&e>=w-4-5&&t<w-4&&t>=w-4-5||R.fillRect(i,a,(n?1:U)*D,(n?1:U)*D)}}const F=N[N.length-1],z=this.options.colorLight;if(R.fillStyle=z,R.fillRect(0,0,8*D,8*D),R.fillRect(0,(w-8)*D,8*D,8*D),R.fillRect((w-8)*D,0,8*D,8*D),(null===(n=null===(o=this.options.components)||void 0===o?void 0:o.timing)||void 0===n?void 0:n.protectors)&&(R.fillRect(8*D,6*D,(w-8-8)*D,D),R.fillRect(6*D,8*D,D,(w-8-8)*D)),(null===(a=null===(i=this.options.components)||void 0===i?void 0:i.cornerAlignment)||void 0===a?void 0:a.protectors)&&Se._drawAlignProtector(R,F,F,D),null===(l=null===(s=this.options.components)||void 0===s?void 0:s.alignment)||void 0===l?void 0:l.protectors)for(let t=0;t<N.length;t++)for(let e=0;e<N.length;e++){const r=N[e],o=N[t];(6!==r||6!==o&&o!==F)&&((6!==o||6!==r&&r!==F)&&(r===F&&o===F||Se._drawAlignProtector(R,r,o,D)))}R.fillStyle=this.options.colorDark,R.fillRect(0,0,7*D,D),R.fillRect((w-7)*D,0,7*D,D),R.fillRect(0,6*D,7*D,D),R.fillRect((w-7)*D,6*D,7*D,D),R.fillRect(0,(w-7)*D,7*D,D),R.fillRect(0,(w-7+6)*D,7*D,D),R.fillRect(0,0,D,7*D),R.fillRect(6*D,0,D,7*D),R.fillRect((w-7)*D,0,D,7*D),R.fillRect((w-7+6)*D,0,D,7*D),R.fillRect(0,(w-7)*D,D,7*D),R.fillRect(6*D,(w-7)*D,D,7*D),R.fillRect(2*D,2*D,3*D,3*D),R.fillRect((w-7+2)*D,2*D,3*D,3*D),R.fillRect(2*D,(w-7+2)*D,3*D,3*D);const Q=(null===(h=null===(c=this.options.components)||void 0===c?void 0:c.timing)||void 0===h?void 0:h.scale)||Te,G=.5*(1-Q);for(let t=0;t<w-8;t+=2)Se._drawDot(R,8+t,6,D,G,Q),Se._drawDot(R,6,8+t,D,G,Q);const q=(null===(d=null===(u=this.options.components)||void 0===u?void 0:u.cornerAlignment)||void 0===d?void 0:d.scale)||Te,H=.5*(1-q);Se._drawAlign(R,F,F,D,H,q,this.options.colorDark,(null===(f=null===(g=this.options.components)||void 0===g?void 0:g.cornerAlignment)||void 0===f?void 0:f.protectors)||!1);const J=(null===(m=null===(p=this.options.components)||void 0===p?void 0:p.alignment)||void 0===m?void 0:m.scale)||Te,$=.5*(1-J);for(let t=0;t<N.length;t++)for(let e=0;e<N.length;e++){const r=N[e],o=N[t];(6!==r||6!==o&&o!==F)&&((6!==o||6!==r&&r!==F)&&(r===F&&o===F||Se._drawAlign(R,r,o,D,$,J,this.options.colorDark,(null===(y=null===(v=this.options.components)||void 0===v?void 0:v.alignment)||void 0===y?void 0:y.protectors)||!1)))}if(B&&(R.fillStyle=this.options.backgroundColor,R.fillRect(-C,-C,E,C),R.fillRect(-C,P,E,C),R.fillRect(P,-C,C,E),R.fillRect(-C,-C,C,E)),this.options.logoImage){const t=yield Re(this.options.logoImage);let e=this.options.logoScale,r=this.options.logoMargin,o=this.options.logoCornerRadius;(e<=0||e>=1)&&(e=.2),r<0&&(r=0),o<0&&(o=0);const n=P*e,i=.5*(E-n),a=i;R.restore(),R.fillStyle=this.options.logoBackgroundColor,R.save(),Se._prepareRoundedCornerClip(R,i-r,a-r,n+2*r,n+2*r,o+r),R.clip();const s=R.globalCompositeOperation;R.globalCompositeOperation="destination-out",R.fill(),R.globalCompositeOperation=s,R.restore(),R.save(),Se._prepareRoundedCornerClip(R,i,a,n,n,o),R.clip(),R.drawImage(t,i,a,n,n),R.restore(),R.save(),R.translate(C,C)}if(L){let t,e,r,o,n,i;if(_.forEach((function(a){t||(t=new De(b,b),t.setDelay(a.delay),t.setRepeat(0));const{width:s,height:l}=a.dims;e||(e=new Ee(s,l),r=e.getContext("2d"),r.rect(0,0,e.width,e.height),r.fillStyle="#ffffff",r.fill()),o&&i&&s===o.width&&l===o.height||(o=new Ee(s,l),n=o.getContext("2d"),i=n.createImageData(s,l)),i.data.set(a.patch),n.putImageData(i,0,0),r.drawImage(o.getContext("2d").canvas,a.dims.left,a.dims.top);const c=new Ee(E,E),h=c.getContext("2d");h.drawImage(e.getContext("2d").canvas,0,0,E,E),h.rect(0,0,E,E),h.fillStyle=k,h.fill(),h.drawImage(T.getContext("2d").canvas,0,0,E,E);const u=new Ee(b,b),d=u.getContext("2d");d.drawImage(c.getContext("2d").canvas,0,0,b,b),t.addFrame(d.getImageData(0,0,u.width,u.height).data)})),!t)throw new Error("No frames.");if(t.finish(),Ie(this.canvas)){const e=t.stream().toFlattenUint8Array().reduce(((t,e)=>t+String.fromCharCode(e)),"");return Promise.resolve(`data:image/gif;base64,${window.btoa(e)}`)}return Promise.resolve(I.from(t.stream().toFlattenUint8Array()))}{M.drawImage(T.getContext("2d").canvas,0,0,E,E),R.drawImage(S.getContext("2d").canvas,-C,-C,E,E);const t=new Ee(b,b);t.getContext("2d").drawImage(T.getContext("2d").canvas,0,0,b,b),this.canvas=t;const e=this.options.gifBackground?"gif":"png";return Ie(this.canvas)?Promise.resolve(this.canvas.toDataURL(e)):Promise.resolve(this.canvas.toBuffer(e))}}))}}function Ie(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}}Se.CorrectLevel=le,Se.defaultComponentOptions={data:{scale:.4},timing:{scale:.5,protectors:!1},alignment:{scale:.5,protectors:!1},cornerAlignment:{scale:.5,protectors:!0}},Se.defaultOptions={text:"",size:400,margin:20,colorDark:"#000000",colorLight:"rgba(255, 255, 255, 0.6)",correctLevel:le.M,backgroundImage:void 0,backgroundDimming:"rgba(0,0,0,0)",logoImage:void 0,logoScale:.2,logoMargin:4,logoCornerRadius:8,whiteMargin:!0,components:Se.defaultComponentOptions,autoColor:!0,logoBackgroundColor:"#ffffff",backgroundColor:"#ffffff"};const Me={props:{text:{type:String,required:!0},qid:{type:String},correctLevel:{type:Number,default:1},size:{type:Number,default:200},margin:{type:Number,default:20},colorDark:{type:String,default:"#000000"},colorLight:{type:String,default:"#FFFFFF"},bgSrc:{type:String,default:void 0},background:{type:String,default:"rgba(0,0,0,0)"},backgroundDimming:{type:String,default:"rgba(0,0,0,0)"},logoSrc:{type:String,default:void 0},logoBackgroundColor:{type:String,default:"rgba(255,255,255,1)"},gifBgSrc:{type:String,default:void 0},logoScale:{type:Number,default:.2},logoMargin:{type:Number,default:0},logoCornerRadius:{type:Number,default:8},whiteMargin:{type:[Boolean,String],default:!0},dotScale:{type:Number,default:1},autoColor:{type:[Boolean,String],default:!0},binarize:{type:[Boolean,String],default:!1},binarizeThreshold:{type:Number,default:128},callback:{type:Function,default:function(){}},bindElement:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},components:{default:function(){return{data:{scale:1},timing:{scale:1,protectors:!1},alignment:{scale:1,protectors:!1},cornerAlignment:{scale:1,protectors:!0}}}}},name:"vue-qr",data:()=>({imgUrl:""}),watch:{$props:{deep:!0,handler(){this.main()}}},mounted(){this.main()},methods:{async main(){if(this.gifBgSrc){const e=await(t=this.gifBgSrc,new Promise(((e,r)=>{var o=new XMLHttpRequest;o.responseType="blob",o.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsArrayBuffer(o.response)},o.open("GET",t),o.send()}))),r=this.logoSrc;return void this.render(void 0,r,e)}var t;const e=this.bgSrc,r=this.logoSrc;this.render(e,r)},async render(t,e,r){const o=this;new Se({gifBackground:r,text:o.text,size:o.size,margin:o.margin,colorDark:o.colorDark,colorLight:o.colorLight,backgroundColor:o.backgroundColor,backgroundImage:t,backgroundDimming:o.backgroundDimming,logoImage:e,logoScale:o.logoScale,logoBackgroundColor:o.logoBackgroundColor,correctLevel:o.correctLevel,logoMargin:o.logoMargin,logoCornerRadius:o.logoCornerRadius,whiteMargin:ut(o.whiteMargin),dotScale:o.dotScale,autoColor:ut(o.autoColor),binarize:ut(o.binarize),binarizeThreshold:o.binarizeThreshold,components:o.components}).draw().then((t=>{this.imgUrl=t,o.callback&&o.callback(t,o.qid)}))}}},Le=["src"];const _e=d(Me,[["render",function(t,e,r,o,n,i){return r.bindElement?(m(),C("img",{key:0,style:{display:"inline-block"},src:n.imgUrl},null,8,Le)):M("",!0)}]]),Oe=t=>(j("data-v-91992e59"),t=t(),F(),t),Ne=Oe((()=>w("img",{class:"question",src:H},null,-1))),Ue={class:"mainWrap"},je={class:"midPic"},Fe=Oe((()=>w("img",{class:"loading",src:$},null,-1))),ze=Oe((()=>w("img",{class:"code",src:""},null,-1))),Qe=Oe((()=>w("img",{class:"ques",src:J},null,-1))),Ge={class:"btnRow"},qe={class:"downList"},He={class:"tittle"},Je={class:"valueRow"},$e={class:"value"},Ke={key:0,class:"sign"},Xe={class:"row2"},Ye={class:"tittle"},Ve={class:"valueRow"},Ze={class:"value"},We={key:0,class:"row2"},tr=Oe((()=>w("p",{class:"tittle"}," Comment ",-1))),er={class:"valueRow"},rr={class:"value"},or={class:"downInfo"},nr={key:0},ir=d({__name:"index",setup(t){const{t:e}=g(),r=L(),o=_();O();const i=f({currency:"--"}),a=f([]);N((async()=>{const{data:t}=await U.getRechargeQuota({coin:o.params.coin});if(i.value=t,i.value.enableRecharge&&null!=i.value.supportChains&&0!=i.value.supportChains.length){let t=i.value.supportChains;1==t.length?(l.value=t[0],a.value=t,T()):0==t.length?B.value=3:(a.value=t,u())}else B.value=3}));const s=f(!1),l=f({}),c=f("--"),h=f(""),u=()=>{s.value=!0},d=()=>{s.value=!1},p=t=>{l.value=t,T(),d()},x=async()=>{await navigator.clipboard.writeText(c.value),E(e("复制成功"))},B=f(3),P=()=>{location.reload()},T=async()=>{if(c.value="--",!l.value.currency)return;if(!i.value.currency)return;const{data:t}=await U.getAddress({coin:i.value.currency,chain:l.value.currency});t.code?B.value=3:(B.value=2,t.address?(c.value=t.address,h.value=t.comment):c.value=t)},R=f(),S=async()=>{let t=1*R.value;if(!(isNaN(t)||t<=0))try{let o=await z.getBalance({currency:i.value.currency,chainCurrency:l.value.currency,chainConfig:l.value});if(console.log(o),o<t)return void E({duration:3e3,message:e("您的余额不足")});let n=await z.sendTransfer({currency:i.value.currency,amount:R.value,toAddress:c.value,chainCurrency:l.value.currency,chainConfig:l.value});console.log(n);let{hash:a}=n;E(e("转入成功，请等待确认")),r.push("/fundHisList")}finally{}};return(t,r)=>{var o,g,f,E,T,I,L;const _=q,O=G,N=Q,U=et,j=rt;return m(),C(k,null,[n(_,{headTt:`${A(e)("充值")} ${(null==(o=i.value)?void 0:o.currency.toUpperCase())??"--"}`},{default:y((()=>[Ne])),_:1},8,["headTt"]),w("div",Ue,[w("div",je,[1==B.value?(m(),C(k,{key:0},[Fe,w("p",null,b(A(e)("合约冻结，等待项目方更新合约")),1)],64)):M("",!0),2==B.value?(m(),C(k,{key:1},[ze,n(_e,{text:c.value,size:180},null,8,["text"]),w("p",null,b(A(e)("此地址只可接受"))+" "+b((null==(g=i.value)?void 0:g.currency.toUpperCase())??"--"),1)],64)):M("",!0),3==B.value?(m(),C(k,{key:2},[Qe,w("p",null,b(A(e)("暂无地址，请刷新以获取充值地址")),1),w("p",Ge,[n(O,{type:"primary",onClick:P},{default:y((()=>[D(b(A(e)("刷新")),1)])),_:1})])],64)):M("",!0)]),w("ul",qe,[w("li",null,[w("div",null,[w("p",He,b(A(e)("主网")),1),w("p",Je,[w("span",$e,b(l.value.name??"--"),1),(null==(f=i.value)?void 0:f.enableRecharge)&&null!=i.value.supportChains&&0!=i.value.supportChains.length?M("",!0):(m(),C("span",Ke,b(A(e)("网络暂停")),1))])]),w("img",{onClick:u,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAhxJREFUaEPtl79OG0EQxr+xD8kIHoCSgoeIlBQp0iAaGiqQwiMg5cKZEFgdBTZwvEMihYqGJqKhsBRFeQkX0JE+ERS2B+2eXfBHYvb+7SH2Khezs99vvt2dMeGFf/TC9cMDuHbQO+AdyFkBf4RyFjD3cu+AbQnjg2QVQKCi8Lvt2qfiK3UgPkg+EvO3VAh3d9ubW3khqgZYJeYfE9HEo3BnKzrOA1EpgFIqaE7PnAK0PHZhwKBl1f78MytEpQBapFKq1ZyePQfwPj1JfAvGh90vm7+zQFQOkEIczjVa9IsIC4YBuG4G9OZrGF7ZQjgBMBCdznyDgj8EzI0h+sFw6t329sZfGwhnAFrk3v7hWxAuQNQai+4Nb/4txnF8K4UQAei3uwE2dhf9MZu7kN6H9FKcDW/+r8RxPJDs9SzA/bdbkjJ/DNNoTUXRiSSTBODe2y1JmjeGidalnfpZAC1Gu9AAz+cVJlk/AvVVFIqqr/OJACQbu4rxAK4qP9n3dTlQZj946OQIdCl5icQO1LUf2ADUsh+IAR7P8sb0HhF6ZVxkaT8QA2iRRc/yRYBbAaQQxc3yTgAMREGzvDMAvXERs7xTADPkdY+WCHwGUJBllncOYCA6ySciTiZibGb5WgCY49RNOgC39W+bWb42AJP/DAAGNrN8rQCKEJMlh3UfyLJJmWs8QJnVleT2DkiqVGaMd6DM6kpyewckVSoz5g5GMsMxCTvUlAAAAABJRU5ErkJggg=="})]),w("li",Xe,[w("div",{onClick:x},[w("p",Ye,b((null==(E=i.value)?void 0:E.currency.toUpperCase())??"--")+" Address ",1),w("p",Ve,[w("span",Ze,b(c.value),1)])]),w("img",{onClick:x,src:ot})]),l.value&&l.value.hasRechangeComment?(m(),C("li",We,[w("div",{onClick:r[0]||(r[0]=(...e)=>t.copyComment&&t.copyComment(...e))},[tr,w("p",er,[w("span",rr,b(h.value),1)])]),w("img",{onClick:x,src:ot})])):M("",!0)]),w("ul",or,[w("li",null,[w("span",null,b(A(e)("最小充值数")),1),w("div",null,[w("span",null,b((null==(T=i.value)?void 0:T.minRecharge)??"--"),1),w("span",null,b((null==(I=i.value)?void 0:I.currency.toUpperCase())??"--"),1)])]),w("li",null,[w("span",null,b(A(e)("充值区块确认数")),1),w("div",null,[w("span",null,b((null==(L=i.value)?void 0:L.minRechargeConfirmations)??"--"),1),w("span",null,b(A(e)("区块确认")),1)])])]),2==B.value?(m(),C("div",nr,[n(j,null,{default:y((()=>[n(U,{span:"24"},{default:y((()=>[n(N,{modelValue:R.value,"onUpdate:modelValue":r[1]||(r[1]=t=>R.value=t),label:A(e)("转入数量")},null,8,["modelValue","label"])])),_:1})])),_:1}),n(j,{class:"btnWrap"},{default:y((()=>[n(U,{span:"24"},{default:y((()=>[n(O,{type:"primary",onClick:S},{default:y((()=>[D(b(A(e)("转入")),1)])),_:1})])),_:1})])),_:1})])):M("",!0)]),s.value?(m(),v(ht,{key:0,onClose:d,onConfirm:p,supportChains:a.value,currectSupportChain:l.value},null,8,["supportChains","currectSupportChain"])):M("",!0)],64)}}},[["__scopeId","data-v-91992e59"]]);export{ir as default};
