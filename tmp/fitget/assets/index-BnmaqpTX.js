import{_ as e,u as a,bu as s,bI as t,q as r,h as l,bJ as c,o,c as n,F as i,B as u,b as p,C as d,E as m,n as v,l as h,bK as b,t as g,x as _,f as y,r as C,j as f,bx as I,by as T,ac as S,a as E,z as O,m as L,J as $,K as x}from"./index-ZSwLI674.js";/* empty css              *//* empty css              *//* empty css              */import"./index-CqDlCCNj.js";import{S as k}from"./index-C14dSwvx.js";import{I as w}from"./icon_delete@2x-C7CDr5Da.js";import{E as V}from"./emptyPage-DPXgX7yJ.js";import{T as j,a as U}from"./index-C0sISGSw.js";import"./use-id-BUjKeJ2W.js";import"./use-tab-status-yiZOeCkD.js";import"./index-DXU4Ikqf.js";import"./index-BpQst5nk.js";const R={key:0,class:"list"},N=["onClick"],A={class:"leftCol"},B=["src"],D={class:"whiteBig"},K={key:0,class:"greyS"},M="COIN_HISTORY",H=e({__name:"coinTypeList",props:["action","subaction","subaction1","searchValue","index"],emits:["onSelected"],setup(e,{emit:g}){a();const _=s(),y=e;t.getCoinConfig(),r();const C=l((()=>y.searchValue)),f=l((()=>y.action)),I=l((()=>y.subaction)),T=l((()=>y.subaction1)),S=c(),E=l((()=>{if(1==y.index)return(()=>{let e=S.legalCoinConfig;return C.value&&""!=C.value&&(e=e.filter((e=>e.currency.toLowerCase().indexOf(C.value.toLowerCase())>-1))),e})();let e=S.coinConfigMap,a=Object.keys(e).map((a=>e[a]));return a=a.filter((e=>!e.legalCoin&&("recharge"==f.value&&e.enableRecharge||"withdraw"==f.value&&e.enableWithdraw||"fundTransfer"==f.value))),C.value&&""!=C.value&&(a=a.filter((e=>e.key.toLowerCase().indexOf(C.value.toLowerCase())>-1))),a.forEach((e=>{let a=_.spotPairList.filter((a=>a.leftKey.toUpperCase()==e.currency.toUpperCase()&&"USDT"==a.rightKey.toUpperCase()));a.length>0&&(e.ticker=a[0].ticker)})),a})),O=g;return(e,a)=>E.value.length>0?(o(),n("ul",R,[(o(!0),n(i,null,u(E.value,((e,a)=>(o(),n("li",{key:a,onClick:a=>(e=>{const a=localStorage.getItem(M);let s=[];if(a&&(s=JSON.parse(a)),s=s.filter((a=>a.currency.toUpperCase()!=e.currency.toUpperCase())),s.length>5&&s.splice(5,s.length),s.unshift({currency:e.currency}),localStorage.setItem(M,JSON.stringify(s)),O("onSelected",e),1==y.index)return b.replace({path:`/credit/${e.currency}`}),!1;I.value&&!T.value?b.replace({path:`/${f.value}/${I.value}/${e.currency.toLowerCase()}`}):I.value&&T.value?b.replace({path:`/${f.value}/${I.value}/${T.value}/${e.currency.toLowerCase()}`}):("withdraw"==f.value&&b.replace({path:`/${f.value}/${e.currency.toLowerCase()}`}),b.replace({path:`/${f.value}/${e.currency.toLowerCase()}`}))})(e)},[p("div",A,[p("img",{class:"coin",src:e.coinLogo},null,8,B),p("p",null,[p("span",D,d(e.currency.toUpperCase()),1),m(),e.alias?(o(),n("span",K,d(e.alias),1)):v("",!0)])])],8,N)))),128))])):(o(),h(V,{key:1}))}},[["__scopeId","data-v-639da0ea"]]);var J={VITE_OPENAPI:"https://app.fitget.pro",VITE_VERSION:"v1",VITE_FALLBACK_LANG:"zh",VITE_SIGNATURE_KEY:"4b424e19fd7287dc2378271f985bd0b8",VITE_WEBSOCKET_MQTT_URL:"wss://dapp.fitget.pro/mqtt",VITE_MERCHANT_ID:"1",VITE_FUSION_PROD_ID:"5",BASE_URL:"/SomethingBoring/tmp/fitget",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const P={class:"glo_search_wrap"},Y={key:0,class:"searchHis hisMt"},F={class:"top"},G=(e=>($("data-v-9990bbdc"),e=e(),x(),e))((()=>p("img",{class:"del",src:w},null,-1))),W={class:"searchBlocks"},q=["onClick"],z={class:"tittleRow coinTypeTitle"},Q=e({__name:"index",emits:["close"],setup(e,{emit:s}){const t=g(),r=_(),{t:c}=a(),m=y(!1),b=y(!1);Object.assign(Object.create(null),{hot:1,coin:2,symbol:3}),l((()=>{b.value=m.value;const e=localStorage.getItem("COIN_HISTORY");return e?JSON.parse(e):[]})),l((()=>{const e=localStorage.getItem("LEGAL_COIN_HISTORY");return e?JSON.parse(e):[]})),l((()=>r.params.action));const $=l((()=>r.params.subaction)),x=l((()=>r.params.subaction1));C([c("现货"),c("合约")]);const w=C([c("数字货币")]),V=y(0);y(!0);const R=y("");y(0);const N=e=>{},A=()=>t.go(-1),B=C([{currency:"USDT"}]),D=()=>{R.value=""},K=J,{VITE_WEBSOCKET_MQTT_URL:M,VITE_MERCHANT_ID:Q}=K,Z=[`exchange.public.${Q}.spot.ticker`];f((()=>{I.subscribes(Z)})),T((()=>{I.unsubscribes(Z)}));const X=e=>{m.value=!m.value};return(e,a)=>{const s=k,l=S("TitleBar"),m=U,b=j;return o(),n("div",null,[E(l,{class:"glo_ttile_bar_serach"},{default:O((()=>[p("div",P,[E(s,{modelValue:R.value,"onUpdate:modelValue":a[0]||(a[0]=e=>R.value=e),placeholder:L(c)("搜索币种"),onSearch:N,onCancel:A,onClear:D,"update:model-value":"searchValue",shape:"round","clear-trigger":"always"},null,8,["modelValue","placeholder"])])])),_:1}),(o(),h(b,{key:2,active:V.value,"onUpdate:active":a[2]||(a[2]=e=>V.value=e),animated:"",shrink:""},{default:O((()=>[(o(!0),n(i,null,u(w,((e,a)=>(o(),h(m,{title:e,key:a},{default:O((()=>[B.length>0?(o(),n("div",Y,[p("div",F,[p("span",null,d(L(c)("历史搜索")),1),G]),p("ul",W,[(o(!0),n(i,null,u(B,((e,a)=>(o(),n("li",{key:a,onClick:a=>(e=>{r.params.subaction&&!r.params.subaction1?t.replace({path:`/${r.params.action}/${r.params.subaction}/${e.currency.toLowerCase()}`}):r.params.subaction&&r.params.subaction1?t.replace({path:`/${r.params.action}/${r.params.subaction}/${r.params.subaction1}/${e.currency.toLowerCase()}`}):t.replace({path:`/${r.params.action}/${e.currency.toLowerCase()}`})})(e)},d(e.currency),9,q)))),128)),B.length%3!=0?(o(!0),n(i,{key:0},u(3-B.length%3,(e=>(o(),n("li",{class:"place",key:`placeLi${e}`})))),128)):v("",!0)])])):v("",!0),p("div",z,d(L(c)("币种清单")),1),E(H,{index:a,action:L(r).params.action,subaction:$.value,subaction1:x.value,searchValue:R.value,onOnSelected:X},null,8,["index","action","subaction","subaction1","searchValue"])])),_:2},1032,["title"])))),128))])),_:1},8,["active"]))])}}},[["__scopeId","data-v-9990bbdc"]]);export{Q as default};
