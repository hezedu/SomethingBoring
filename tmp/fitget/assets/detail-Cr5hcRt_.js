import{_ as l,f as a,q as e,an as s,x as t,t as u,u as i,r as c,h as n,j as v,o as d,c as o,a as p,m as r,b as m,C as g,n as y,G as k,F as C,B as f,ao as T,E as b,ap as S,s as h,aq as j,P as D,J as U,K as Y}from"./index-ZSwLI674.js";import{F as A}from"./index-CqDlCCNj.js";import{_ as N}from"./headItem-BRJ0w2uz.js";import{K as I}from"./JumpStartService-Clm-MyzV.js";import"./use-id-BUjKeJ2W.js";const L={key:0,class:"mainApp"},x={class:"detail"},H={class:"banner"},M={class:"inner"},P={class:"logoWrap"},B=["src"],_={key:1,class:"logo",src:"/SomethingBoring/tmp/fitget/assets/image6@2x-BcpkHuDY.png"},w={key:0,class:"topIntro"},V=(l=>(U("data-v-1c54243a"),l=l(),Y(),l))((()=>m("hr",null,null,-1))),q={class:"downUl"},F={class:"num"},J={class:"num"},K={class:"num"},W={class:"main"},E={class:"leftCol"},G={class:"defaultTittle"},R={class:"steps"},$={class:"tt"},z={class:"time"},O={class:"tt"},Q={class:"time"},X={class:"tt"},Z={class:"time"},ll={class:"defaultTittle"},al={class:"timeLineWrap"},el={class:"desc"},sl={class:"timeline"},tl={class:"time"},ul={class:"rightPercent"},il={key:0,class:"sign"},cl={class:"defaultTittle"},nl={class:"descList"},vl={class:"lable"},dl={class:"value"},ol={class:"lable"},pl={class:"value"},rl={class:"lable"},ml={class:"value"},gl={key:0,class:"descList"},yl={class:"lable"},kl={class:"value"},Cl={class:"lable"},fl={class:"value"},Tl={class:"lable"},bl={class:"value"},Sl={class:"defaultTittle"},hl={class:"projectDesc"},jl={class:"rightCol"},Dl={class:"defaultTittle"},Ul={class:"bigSign greenSign"},Yl={class:"defaultTittle"},Al={class:"commonDesc"},Nl={class:"defaultTittle"},Il={class:"bigSign blueSign"},Ll={class:"buying"},xl={class:"tt"},Hl={class:"buyBlock"},Ml={class:"rightBuy"},Pl={class:"unit"},Bl={class:"downTips"},_l={class:"tipsL"},wl={class:"bigNum"},Vl={class:"tipsR"},ql={class:"black"},Fl={key:0,class:"defaultTittle"},Jl={key:1,class:"choosed"},Kl={class:"ttS"},Wl={class:"bigNum"},El={class:"ttS"},Gl={class:"minNum"},Rl={class:"defaultTittle"},$l={class:"bigSign"},zl={class:"choosed"},Ol={class:"commonDesc"},Ql={class:"bigNum"},Xl={class:"defaultTittle"},Zl={class:"choosed"},la={class:"ttS"},aa={class:"bigNum"},ea={class:"ttS"},sa={class:"bigNum active"},ta={class:"defaultTittle"},ua={class:"bigSign"},ia={class:"commonDesc"},ca={class:"defaultTittle"},na={class:"choosed"},va={class:"ttS"},da={class:"bigNum"},oa={class:"ttS"},pa={class:"minNum"},ra={class:"defaultTittle"},ma={class:"bigSign"},ga={class:"bigSign redSign"},ya={class:"commonDesc"},ka={class:"defaultTittle"},Ca={class:"choosed"},fa={class:"ttS"},Ta={class:"bigNum active"},ba={class:"defaultTittle"},Sa={class:"bigSign"},ha={class:"commonDesc"},ja={class:"defaultTittle"},Da={class:"commonDesc"},Ua={class:"defaultTittle"},Ya={class:"bigSign"},Aa={class:"commonDesc"},Na={class:"defaultTittle"},Ia={class:"commonDesc"},La=l({__name:"detail",setup(l){let U=a(!1),Y=a(!1);const La=a(""),xa=e(),Ha=s(),Ma=t();u();const{t:Pa}=i(),Ba=a(Ma.params.projectCode);let _a=c([{date:"2023年6月11日",time:"14:00",percent:"17%",isSend:!0},{date:"2023年6月11日",time:"14:00",percent:"17%",isSend:!0},{date:"2023年6月11日",time:"14:00",percent:"17%",isSend:!0},{date:"2023年6月11日",time:"14:00",percent:"17%",isSend:!1}]);const wa=n((()=>{let l=Ja.value;if(l){let a=l.serverTime;return l.startPayTime>a?0:l.ticketTime<a?3:l.endPayTime<a?2:1}return 0})),Va=n((()=>xa.isLogin()?Ha.getCash("spot",Ja.value.payCurrency.toUpperCase()):0)),qa=n((()=>(La.value>Ja.value.maxTicketCount&&(La.value=Ja.value.maxTicketCount),La.value>0?La.value*Ja.value.ticketAmount*Ja.value.price:0))),Fa=a([]),Ja=a(),Ka=async()=>{const l=await I.getProjectInfo(c({projectCode:Ba}),{});let a=l.serverTime,e=S(1e3*l.endTime);Fa.value[0]={date:e.format("YYYY-MM-DD"),time:e.format("HH:mm"),percent:"100%",isSend:l.endTime<a},Ja.value=l},Wa=a(),Ea=async()=>{const{data:l}=await I.getSummary(c({projectCode:Ba}),{});Wa.value=l},Ga=async()=>(console.log(La.value),!(La.value<1)&&(La.value*Ja.value.ticketAmount*Ja.value.price>Va.value?(h(Pa("余额不足")),!1):(await I.buy({projectCode:Ba.value,count:La.value}),La.value="",h(Pa("申购成功")),Ka(),void Ea())));return v((()=>{Ka(),xa.isLogin()&&Ea()})),(l,a)=>{const e=N,s=j,t=A;return d(),o(C,null,[p(e,{headTt:r(Pa)("新币申购")},null,8,["headTt"]),Ja.value?(d(),o("div",L,[m("div",x,[m("div",H,[m("div",M,[m("div",null,[m("div",P,[Ja.value.projectInfo.logo?(d(),o("img",{key:0,class:"logo",src:Ja.value.projectInfo.logo},null,8,B)):(d(),o("img",_)),m("span",null,g(Ja.value.currency.toUpperCase()),1)]),Ja.value.projectInfo.title?(d(),o("div",w,g(Ja.value.projectInfo.title[l.lang]),1)):y("",!0),V,m("ul",q,[m("li",null,[m("p",null,g(r(Pa)("销售价格")),1),m("p",F,g(Ja.value.price)+" "+g(Ja.value.payCurrency.toUpperCase()),1)]),m("li",null,[m("p",null,g(r(Pa)("销售总量")+`(${Ja.value.currency.toUpperCase()})`),1),m("p",J,g(Ja.value.dealNum*Ja.value.ticketAmount),1)]),m("li",null,[m("p",null,g(r(Pa)("认购总量（签数）")),1),m("p",K,g(Ja.value.dealNum),1)])])])])]),m("div",W,[m("div",E,[m("div",G,g(r(Pa)("时间规划")),1),m("ul",R,[m("li",null,[p(s,{name:"passed",class:k(""+(wa.value>=1?"active":""))},null,8,["class"]),m("div",$,g(r(Pa)("开始认购")),1),m("div",z,g(r(D)(Ja.value.startPayTime,"YYYY-MM-DD HH:mm")),1)]),m("li",null,[p(s,{name:"passed",class:k(""+(wa.value>=2?"active":""))},null,8,["class"]),m("div",O,g(r(Pa)("认购结束")),1),m("div",Q,g(r(D)(Ja.value.endPayTime,"YYYY-MM-DD HH:mm")),1)]),m("li",null,[p(s,{name:"passed",class:k(""+(wa.value>=3?"active":""))},null,8,["class"]),m("div",X,g(r(Pa)("结果公布")),1),m("div",Z,g(r(D)(Ja.value.endTime,"YYYY-MM-DD HH:mm")),1)])]),m("div",ll,g(r(Pa)("发放周期")),1),m("div",al,[m("p",el,g(r(Pa)("中签新币将根据以下周期进行解锁")),1),m("div",sl,[(d(!0),o(C,null,f(Fa.value,((l,a)=>(d(),o("div",{class:"block",key:a},[m("div",{class:k("tittle "+(a==r(_a).length-1?"lastTittle":""))},[m("div",null,[m("span",null,g(l.date),1),m("span",tl,g(l.time),1)]),m("div",ul,[m("span",null,g(l.percent),1),l.isSend?(d(),o("span",il,g(r(Pa)("已发放")),1)):y("",!0)])],2),m("div",{class:k("point "+(a==Fa.value.length-1?"lastPoint":""))},null,2),a!=Fa.value.length-1?(d(),o("div",{key:0,class:k("line "+(a==Fa.value.length-2&&1!=Fa.value.length?"lastLine":""))},null,2)):y("",!0)])))),128))]),r(_a).length>3?(d(),o("div",{key:0,class:"seeMore",onClick:a[0]||(a[0]=l=>T(U)?U.value=!r(U):U=!r(U))},g(r(U)?r(Pa)("收起"):r(Pa)("查看更多")),1)):y("",!0)]),m("div",cl,g(r(Pa)("抽签规则")),1),m("ul",nl,[m("li",null,[m("span",vl,g(r(Pa)("签数总量")),1),m("span",dl,g(Ja.value.totalAmount)+" "+g(r(Pa)("签")),1)]),m("li",null,[m("span",ol,g(r(Pa)("单签数量")),1),m("span",pl,g(Ja.value.ticketAmount)+" "+g(Ja.value.currency.toUpperCase()),1)]),m("li",null,[m("span",rl,g(r(Pa)("中签上限")),1),m("span",ml,g(Ja.value.maxTicketCount)+" "+g(r(Pa)("签")),1)])]),r(Y)?(d(),o("ul",gl,[m("li",null,[m("span",yl,g(r(Pa)("签数总量")),1),m("span",kl,g(Ja.value.totalAmount)+" "+g(r(Pa)("签")),1)]),m("li",null,[m("span",Cl,g(r(Pa)("单签数量")),1),m("span",fl,g(Ja.value.ticketAmount)+" "+g(Ja.value.currency.toUpperCase()),1)]),m("li",null,[m("span",Tl,g(r(Pa)("中签上限")),1),m("span",bl,g(Ja.value.maxTicketCount)+" "+g(r(Pa)("签")),1)])])):y("",!0),y("",!0),m("div",Sl,g(r(Pa)("项目详情")),1),m("div",hl,g(Ja.value.projectInfo.desc?Ja.value.projectInfo.desc[l.lang]:""),1)]),m("div",jl,[0==wa.value?(d(),o(C,{key:0},[m("div",Dl,g(r(Pa)("公开销售")),1),m("div",null,[m("span",Ul,g(r(Pa)("即将销售")),1)]),m("div",Yl,g(r(Pa)("认购记录")),1),m("div",Al,g(r(Pa)("认购未开始")),1)],64)):y("",!0),1==wa.value?(d(),o(C,{key:1},[m("div",Nl,g(r(Pa)("公开销售")),1),m("div",null,[m("span",Il,g(r(Pa)("抢购中")),1)]),m("div",Ll,[m("div",xl,g(r(Pa)("认购份数")),1),m("div",Hl,[p(t,{modelValue:La.value,"onUpdate:modelValue":a[2]||(a[2]=l=>La.value=l),placeholder:r(Pa)("请输入购买数量")},null,8,["modelValue","placeholder"]),m("div",Ml,[m("p",Pl,g(r(Pa)("签")),1)])]),m("div",Bl,[m("div",_l,[m("span",null,g(r(Pa)("支付")),1),m("span",wl,g(qa.value)+" "+g(Ja.value.payCurrency.toUpperCase()),1)]),m("div",Vl,[m("span",null,g(r(Pa)("可用")),1),m("span",ql,g(Va.value),1),m("span",null,g(Ja.value.payCurrency.toUpperCase()),1)])]),r(xa).isLogin()?(d(),o("div",{key:0,class:"bigBtn",onClick:Ga},g(r(Pa)("确认购买")),1)):(d(),o("div",{key:1,class:"bigBtn",onClick:a[3]||(a[3]=l=>r(xa).connect())},g(r(Pa)("请先登录")),1))]),r(xa).isLogin()?(d(),o("div",Fl,g(r(Pa)("认购结果")),1)):y("",!0),r(xa).isLogin()&&Wa.value?(d(),o("div",Jl,[m("div",Kl,g(r(Pa)("已认购")),1),m("div",Wl,[m("span",null,g(Wa.value.ticketCount)+" "+g(r(Pa)("签")),1),b(),m("span",null,g(Wa.value.ticketCount*Ja.value.ticketAmount)+" "+g(Ja.value.currency.toUpperCase()),1)]),m("div",El,g(r(Pa)("中签结果")),1),m("div",Gl,[m("span",null,g(r(Pa)("抽签未开始")),1)])])):y("",!0)],64)):wa.value>2&&Wa.value&&Wa.value.successCount>0?(d(),o(C,{key:2},[m("div",Rl,g(r(Pa)("公开销售")),1),m("div",null,[m("span",$l,g(r(Pa)("已结束")),1)]),m("div",zl,[m("div",Ol,g(r(Pa)("您所获得的代币已发放到资金账户，未中签份额所花费的")+Ja.value.payCurrency.toUpperCase()+r(Pa)("资产请前往资金账户查看。")),1),m("div",Ql,g(Wa.value.successCount*Ja.value.ticketAmount)+" "+g(Ja.value.currency.toUpperCase()),1)]),m("div",Xl,g(r(Pa)("认购结果")),1),m("div",Zl,[m("div",la,g(r(Pa)("已认购")),1),m("div",aa,[m("span",null,g(Wa.value.ticketCount)+" "+g(r(Pa)("签")),1),m("span",null,g(Wa.value.ticketCount*Ja.value.ticketAmount)+" "+g(Ja.value.currency.toUpperCase()),1)]),m("div",ea,g(r(Pa)("中签结果")),1),m("div",sa,[m("span",null,g(Wa.value.successCount)+" "+g(r(Pa)("签")),1),m("span",null,g(Wa.value.successCount*Ja.value.ticketAmount)+" "+g(Ja.value.currency.toUpperCase()),1)])])],64)):2==wa.value&&Wa.value?(d(),o(C,{key:3},[m("div",ta,g(r(Pa)("公开销售")),1),m("div",null,[m("span",ua,g(r(Pa)("已结束")),1)]),m("div",ia,g(r(Pa)("认购已经结束，将准点开始系统抽签，请等待抽签结果，如果中签的份额即认购成功，未中签的份额将原路退回。")),1),m("div",ca,g(r(Pa)("认购结果")),1),m("div",na,[m("div",va,g(r(Pa)("已认购")),1),m("div",da,[m("span",null,g(Wa.value.ticketCount)+" "+g(r(Pa)("签")),1),m("span",null,g(Wa.value.ticketCount*Ja.value.ticketAmount)+" "+g(Ja.value.currency.toUpperCase()),1)]),m("div",oa,g(r(Pa)("中签结果")),1),m("div",pa,g(r(Pa)("抽签未开始")),1)])],64)):3==wa.value&&Wa.value&&0==Wa.value.successCount?(d(),o(C,{key:4},[m("div",ra,g(r(Pa)("公开销售")),1),m("div",null,[m("span",ma,g(r(Pa)("已结束")),1),m("span",ga,g(r(Pa)("未中签")),1)]),m("div",ya,g(Ja.value.payCurrency.toUpperCase()+r(Pa)("未中签，已返回到您的资产当中，请查看。")),1),m("div",ka,g(r(Pa)("认购记录")),1),m("div",Ca,[m("div",fa,g(r(Pa)("已认购")),1),m("div",Ta,[m("span",null,g(Wa.value.ticketCount)+" "+g(r(Pa)("签")),1),m("span",null,g(Wa.value.ticketCount*Ja.value.ticketAmount)+" "+g(Ja.value.currency.toUpperCase()),1)])])],64)):3==wa.value&&Wa.value&&0==Wa.value.ticketCount?(d(),o(C,{key:5},[m("div",ba,g(r(Pa)("公开销售")),1),m("div",null,[m("span",Sa,g(r(Pa)("已结束")),1)]),m("div",ha,g(r(Pa)("您未参与本次活动")),1),m("div",ja,g(r(Pa)("认购记录")),1),m("div",Da,g(r(Pa)("您未参与本次活动")),1)],64)):3==wa.value?(d(),o(C,{key:6},[m("div",Ua,g(r(Pa)("公开销售")),1),m("div",null,[m("span",Ya,g(r(Pa)("已结束")),1)]),m("div",Aa,g(r(Pa)("您未参与本次活动")),1),m("div",Na,g(r(Pa)("认购记录")),1),m("div",Ia,g(r(Pa)("您未参与本次活动")),1)],64)):y("",!0)])])])])):y("",!0)],64)}}},[["__scopeId","data-v-1c54243a"]]);export{La as default};
