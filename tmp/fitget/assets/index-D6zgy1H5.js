import{_ as e,q as l,t as a,u as t,h as r,f as s,o as n,l as o,z as u,b as c,C as i,m as v,c as d,ao as p,s as m,af as C,J as g,K as A,j as y,ay as h,F as b,B as f,G as k,a as w,n as P,w as V,E as D,T as x,an as B,R as E,bt as T,bO as K,by as I,V as S,W as L,P as N,cr as F,bP as M,x as U,bx as Q,cs as H,c1 as J,bL as R,c2 as X,cb as W,ct as q,cu as O,cd as G,ce as j}from"./index-CioBjTVG.js";import{D as Y}from"./index-BolVOxYO.js";import{B as Z}from"./index-h3qOpuro.js";import{A as z}from"./index-DdCt_D9c.js";import{_,a as $,S as ee,f as le,D as ae,p as te,d as re,b as se,c as ne,e as oe}from"./f_0icon_24_icon_head_star_dark-CCU0K-Qf.js";import{_ as ue,s as ce,a as ie}from"./index-CuHvB06O.js";import{F as ve}from"./index-C9iF-GfQ.js";import{C as de}from"./ContractService-Ba4Wf1gW.js";/* empty css              *//* empty css              *//* empty css              */import{_ as pe}from"./f_0icon_20_icon_lishidingdan-BZ65bQTD.js";import{E as me}from"./emptyPage-Ds2BKBqQ.js";import{S as Ce,d as ge,g as Ae,e as ye,f as he}from"./contract-Da1xF4qy.js";/* empty css                                                                   */import{a as be,T as fe}from"./index-Onjf-qgk.js";import{c as ke,_ as we}from"./circleItem-Bfnb5kan.js";import{_ as Pe}from"./icon_huazhuan_line_enter@2x-BBhcQ3fp.js";import"./use-id-CcbAo3SX.js";import"./index-DXNav8J_.js";import"./use-tab-status-_iNRjcO8.js";import"./index-DcdjDLdy.js";import"./index-Bde3MoM6.js";const Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAADG1JREFUeF7tnWtsHFcVgM+5M7Peh7OJ13Zbp1CXR6WyCFQeVUX+RELqbxBqItR/bSUbkiYCmjRNC2QikbqJXUBJG9WWSv/xSCQEP/qrEhJCKkKFloe6/GhV1RWtAcfreON9eGfmHnTGWbNe73rncce7G+9IliztfZ7vPs4999x7EbrvQ9M0MZvNYi6XQwDQYXRUrxQKRtwwNCAS1WoV9xkGFokEFz+FKK9bFsViMQJEWbEsJ55OW7C4aAOAnc1mKZfLkWmaBAD81zUfV7DjHxHh3NycvrCwYJTjcUNIqSORnkomXWGHKSBDKZZKkhBtKYSdqFSssbExa2JiwkbEjsMIVbkwguG4Jrfgy5eTMcdJkJQCikVR1fVIyxSzbYJUSqIQsqppZThypGQiyrB1CRo/0so2K5RpmmIpkzH2F4tJKWU8aoG3EwwDEUJUPkqlSsP5vGWa5o7C2DEAV65c0ebn5+N5y4oPJhKxsENLO8H6/Z2HqtVyuZoxjMr4+Hjl8OHDjt80goSPHACP7zMzM8kiQMrQda3bBN8oNAZh2baTAiieOHGiFPU8ERkAFvzZq1cN+OCDNDlOLEjr6HQc1LQq3HVX4cyhQ1ZUICIBMDs7aywvLycrQiTopqrYaWEGzR8RZVzK8tDQUGlyctIKmk6reMoBmLOzSaNc3lNdW9NUF7aT6cUGBhwrkbhhTk6WVJZDGQDWbiiTGYw5Tqrbx/mgAuT5oappRcznV1VpS0oAmKYZg3R6kCwrHrRyvRQPDaMChQJDqIYtd2gA5iuvxOHatTRJqYctTC/FRyFsGBkpmI88UglT7lAATNOMQzK5r9cn2qAC5AkaSqXrpmkGhhAUAE5PTyeLRHt2q/Br0BhCCvHGyZMneXL2bVsKBGB6ejq1XK2mjYjtNkFb5k7Hs2ybhmKxwsmTJ4t+8/YNYLcPOy31+YDDkS8A7oS7uLhrx/x2rdudE0ZHr/uZmD0DcFXNVGrfbtN22gm98XdXOyoWeWL2pKJ6AsCLLEin9+0WPd+v0LdAWF8nMIS2pm1PAM5cvJiGcnkwbMF2VfxEYvXs8eOFdnVuC8C17ZRKe29V80I7AQX93TVrJ5Mr7WxH2wJgq+a1cjlzqxnWggrVbzw24I0kEvntrKgtAbA9//z58+kyYspvxhuLFGkkNbQfJIC7CMEImk4n4iGBhQAfOKS/RsIKbAFNEBVPnTpVaLWf0BKAeeVKDN5/PxN0pYvSSCI6P0XAgwCUBADXhaSHPgmAJQL6PZH2naAQXNX07rvz5uHDTbWipgDc3aznnx8Os5OlE36NQFwAoB6fvHEVQT5pI/02aOPhnbUzTzyx1KwXNAXApoZVKfcGzZDjaYTHAPDJHmz5jdWWAHTBQboURh6DQqw0M1VsAcDeC7n5+eGwCy4B+D0kfCJMobslLiE9L4F+HKY8vEDLjo8vNXpbbAHArb+q6+mwamcfwGZcrJbGbHuLwW4TAF7xrsViQzFNGwhDm+NGBIBXlgsA8DYA/BcBVzgvAuLh8jYA+CwAjKke9lT0AC5n1XHWBqrV5foV8iYAxy5eHLjDcTJhW380AOg9QPwJCPgLSnndkXKNhHA1C5QypgkxQELsAwlfAqLvAuAnwzaiWnxVALgX/FvT8peOH1/bUNXrCzk1NTXEriQqCq6iB7DWQABLBPgyyepLNYG3Kx8DQRH7FgI9hgDDrNW1i7Pd76oAcB7s4nL69OnlLQDYUdZ49tnbVflqqgAAgO8CyXMOyt8BIruae/+IdI3EVwHFMwD0ae8Rt4ZUCYB9Ua2nn/5PzSF4o2WYL744SKur6TAFrY+rAMAKEh22BeUAoK1VsUW5hS4xS4hXACCwWq0SgDtkDg4WzKNHV93/3UmMCKcuXRpZK5eVmQvCAECEG+jIY5YGr6loEIYDD5ImLhHBniDpqQYwkEhYp48du8ZDrAsgCqNbCADc2n8pSTvTavkvpXanIeB+SfJOd8JH8aEl4Q0hnA+bCZjNIgKdswDwzSAakmoA9UY6F4BpmknDMPaqGv/DaUG0REKblGT/sYkwhUb4MCAeAcJhRHAVBiIoA9ISEF12kH7ebMgSqH8FpTMLgMN+e4FyADwPWNaKaZolBoCnnnsuHQ9h9WxWoaA9ABHeRA2/YTnOZkdYnlRBPHbTvNHKA6/img1Avtw4aRuaZpBDvyaCL3YaAOdfISqef+qpAh+IU7b4UjEJE8KUBPlCo5BQ4ucF4s9uLrS2k+GCJHqUBP29MZAA8TgSnO4GALVFGbLt56/vvDPChyf8Fmy78EF7AGnwdSnlG02E9yMkeMRLGQnhFQny+1vSEOJ+dOA3XtKoD6N6COK0+RDIfffcc417gG7s3TuqYvWrogcA2V92hGBzw6ZPI/EnAPiYR+H9y0H5wJY0pBwD1P/sMY2NYFEAcLcsV1YWGUCcEomM30K1Cx+0ByDKe22AG/Xp64gJkOKfBORVTS47KLcsvgaTyYFysfJeu7I3/h4FAM4Dy+U8ql6A1QofHAAessF5fRMA0A4Q0VUfgmvaA0CIEc2Bv/lIxw0aGYDBwQI+NTU1NKDI/qNiCELEt1BnNZPWhyHEMbLpMhF9wavgWs0BuuPcR8J41Ws6tXBRAViTsozmzMxImK3HVpUJ2gNYh0cENj/wmM/fA0SQ9bGAaqkF6SCOEMEz3QKAtyrRnJ6+LezuV7MKhQDgVz714VuuA2xLMwZ0+hUD9ZtBVD2Ad8nw6XPnbletgnIFdwoAIjpeVsI6wAEifKkbVsK1BsCqKF64cOGO2q0jflvGduEjBiCJIIcCX5ckr7W3BcmkJvQfAsDDROB7vRNVD+BbXvDM+fP7VQo+rBbkpSwI8CZJeNxh45uHfQKB2kGUNAcAgVxkogLg6hi9CIAEPSSJmhnrGvkJAdpnBNEvCMC3ES5qLcgF0ItDkBzQP0XV6vYH44h0gfpBQfQDArjHS89qFSaqHuAOQb04CTu4vg/Q6lu3fOK3ieSjiDjSTXvC9WV2J+FeVENbAdAc8XHQtPuB5FEAujdMq6+PG1UPcNXQLlyItZVbSwCk/QGA7vaxaGubFweIDAAvxLrNFOFFIq0BiKZbkl7S3C5MVADWTRGKvSF2Qg29VQCwd0TXmaO9tFZJ9icanbTYZE0S3/US32+YqHrAujm62zZkPEhHCPGQ1bBpjwAHBAk/JmsPOa0HiQLAxoZMt21JepIKwVtAcFTE8CO+JkCT2p0o4AUC/xvuXvKLAkD9lmRXbcp7Eci62wm+DeiarCVJOoDoy2TtMZvoesDGpny3uaX4kswOBY6iB2y4pXAdussxa4ek6iMb1QBcB906x6xuc030Ipqwu2Ze8tgIoxxA3fnhrnTObScdFfvG7fKI0hSxxTnXHYYUL8ii3JBBVOI54ZmB6h6wxT3dBdCVBzSay0hq8DmSMl//KwqREQ78w7NUfQRUCaDlAQ0uT7cdUWolo17uAS2PKHFlu/uQ3v9x9Ooc0PaQnkpP6SjnAAW+Qz4GIHWmiLbHVLlU/YPaW9momAM8HdTmrPtXFUQDwPNVBbVe0L+sYwPEzl7Wwdn2r6vZpODu/HU17rqgf2FT5y5sqvWC/pVlHbyyjCFEcX7Yl/7X44FDXdpXq3v/2spgrUDJtZW1rPsXtwaAoOriVndC7l9d7IvAzSdO1F1dfBNC//JuDxgiubx7Yz7oX1+/LYJIr6/fgLDL343ZxkQe6D2ZQFd59Z8w2YxhR58wuZl1/xGfmiA68YhPfzhal0Ann7Ha6IP9h9w6+JBbXU/oP2XoQUVtFiTQJNwsof5jnsEIKAOwyXbUf87WMw3lAGpW1P6Dzt4YRAKAs+4/ad5hALXsGcTMzEyyCJDiS0FUX43mrZreQ7lmZNt2UgDFEydOlKJ6S75Wosh6QGOV2dtifn4+nres+GAiEes2ECz41XK5mjGMyvj4eKXxoQXvCP2F3DEAdSqrWMpkjP3FYlJKGVd5Way/qq+HZl9NIUTlo1SqNJzPW15evwuST6s4Ow6gviDsEAyXLydjjpMgKQUUiyJqICxwSKUkCiGrmlaGI0dKtZvMVQrWa1odBVA/T8zNzekLCwtGOR43hJQ6EumpZFKEHap4aCmWSpIQbSmEnahUrLGxMWtiYsKOenz3AqErADQUlI/OYjabxVwux+XTYXRUrxQKRtwwNCByoewzDKxdNMW3jly3LGJhA6KsWJYTT6ctWFzkNwfsbDZLuVyOTNPkF699v3rtRZBBw/wPvD68LMVYGGIAAAAASUVORK5CYII=",De="data:image/png;base64,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",xe=e=>(g("data-v-609a8f94"),e=e(),A(),e),Be={class:"content"},Ee={class:"bigTt"},Te={class:"topList"},Ke=xe((()=>c("img",{src:Ve},null,-1))),Ie={class:"label"},Se=xe((()=>c("img",{src:De},null,-1))),Le={class:"label"},Ne=xe((()=>c("img",{src:De},null,-1))),Fe={class:"label"},Me=xe((()=>c("img",{src:Ve},null,-1))),Ue={class:"label"},Qe=xe((()=>c("img",{src:_},null,-1))),He=xe((()=>c("img",{src:$},null,-1))),Je={__name:"topLayout",props:["currContract"],emits:["close"],setup(e,{emit:g}){const A=e,y=l(),h=a(),{t:b}=t(),f=r((()=>{const e=Object.create(null);return y.selfContracts.forEach((l=>{e[l.symbol]=!0})),e}));let k=s(!0);const w=g,P=()=>{w("close")},V=s(!1),D=async()=>{y.isLogin()?(await de.addSelfContracts(A.currContract.contractCode),V.value=!V.value,w("close"),m(b("加入自选"))):y.connect()},x=async()=>{await de.delSelfContracts({symbols:[A.currContract.contractCode]}),V.value=!V.value,w("close"),m(b("移出自选"))};return(l,a)=>{const t=C;return n(),o(t,{show:v(k),"onUpdate:show":a[3]||(a[3]=e=>p(k)?k.value=e:k=e),position:"top",style:{height:"30%"},round:"",closeable:"",onClose:P},{default:u((()=>[c("div",Be,[c("div",Ee,i(v(b)("精选功能")),1),c("ul",Te,[c("li",{onClick:a[0]||(a[0]=e=>v(h).push("/contract/compute?contractCode="+A.currContract.contractCode))},[Ke,c("p",Ie,i(v(b)("计算器")),1)]),v(y).isLogin()?(n(),d("li",{key:0,onClick:a[1]||(a[1]=e=>v(h).push("/contract/risk/set?contractCode="+A.currContract.contractCode))},[Se,c("p",Le,i(v(b)("风险限额设置")),1)])):(n(),d("li",{key:1,onClick:a[2]||(a[2]=e=>v(y).connect())},[Ne,c("p",Fe,i(v(b)("风险限额设置")),1)])),c("li",null,[Me,c("p",Ue,i(v(b)("关于永久合约")),1)])]),v(y).isLogin()&&f.value[e.currContract.contractCode]?(n(),d("div",{key:0,class:"bottomSave",onClick:x},[Qe,c("p",null,i(v(b)("已添加"))+i(A.currContract.keyCapital)+i(v(b)("到自选")),1)])):(n(),d("div",{key:1,class:"bottomSave",onClick:D},[He,c("p",null,i(v(b)("添加"))+i(A.currContract.keyCapital)+i(v(b)("到自选")),1)]))])])),_:1},8,["show"])}}},Re=e(Je,[["__scopeId","data-v-609a8f94"]]),Xe={class:"slideItem"},We=["id"],qe={key:0,class:"pop"},Oe={__name:"slideItem",props:{stepNum:Number,modelValue:String},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=l,o=r({get:()=>a.modelValue,set(e){t("update:modelValue",e)}}),v=s(!1),p=e=>{console.log(e)},m=()=>{v.value=!0},C=()=>{v.value=!1},g=s((new Date).getTime());return y((()=>{h((()=>{const e=document.getElementById(`vanSlider${g.value}`).getElementsByClassName("van-slider__bar")[0],l=document.getElementById(`circleList${g.value}`);e.appendChild(l),l.style.cssText="display:flex;"}))})),(l,a)=>{const t=Ce;return n(),d("div",Xe,[c("ul",{id:`circleList${g.value}`,class:"circleList"},[(n(!0),d(b,null,f(e.stepNum,(e=>(n(),d("li",{key:`circle${e}`,class:k(""+(o.value/20>=e-1?"active":""))},null,2)))),128))],8,We),w(t,{id:`vanSlider${g.value}`,step:"0.1",modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),onChange:p,onDragStart:m,onDragEnd:C},{button:u((()=>[c("div",{ref:"cusBtn",class:k("custom-button "+(0==o.value?"blackBtn":""))},[v.value?(n(),d("span",qe,i(o.value),1)):P("",!0)],2)])),_:1},8,["id","modelValue"])])}}},Ge=e(Oe,[["__scopeId","data-v-3417f5e5"]]),je={class:"headTittle"},Ye={class:"content"},Ze={class:"desc"},ze={class:"redF"},_e={class:"btnWrap"},$e={__name:"slideLayout",props:["currContract","currLeverage","currPosition","direction"],emits:["close"],setup(e,{emit:l}){let a=s(!0);const t=e,r=l,d=async()=>{await de.changeLeverage({contractCode:t.currContract.contractCode,positionType:t.direction,leverage:m.value}),r("close")},m=s(t.currLeverage),g=s(100*t.currLeverage/t.currContract.leverage);return console.log(t.currLeverage),V((()=>m.value),(()=>{g.value=100*m.value/t.currContract.leverage})),V((()=>g.value),(()=>{m.value=.01*t.currContract.leverage*g.value})),(e,l)=>{const s=ee,A=Z,y=C;return n(),o(y,{show:v(a),"onUpdate:show":l[2]||(l[2]=e=>p(a)?a.value=e:a=e),position:"bottom",round:"",closeable:"",onClose:l[3]||(l[3]=e=>r("close")),teleport:"body"},{default:u((()=>[c("div",je,i(e.$t("调整杠杆")),1),c("div",Ye,[w(s,{"disable-input":"",min:1,max:t.currContract.leverage,step:"1","decimal-length":"1",modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=e=>m.value=e)},null,8,["max","modelValue"]),w(Ge,{stepNum:5,modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=e=>g.value=e)},null,8,["modelValue"]),c("div",Ze,[c("p",ze,i(e.$t("选取过高的杠杆倍数【10x】会增加强行平仓风险，请注意自身的风险等级，更多资讯请参考这里。")),1)]),c("div",_e,[w(A,{type:"primary",block:"",onClick:d},{default:u((()=>[D(i(e.$t("确定")),1)])),_:1})])])])),_:1},8,["show"])}}},el=e($e,[["__scopeId","data-v-82689e26"]]),ll={class:"content"},al={class:"topInfo"},tl={class:"formList"},rl={class:"w1"},sl={class:"label"},nl={class:"item active"},ol={class:"rightTips"},ul={class:"w2"},cl={class:"label"},il={class:"selectInput"},vl={class:"w1"},dl={class:"label"},pl={class:"item active"},ml={class:"rightTips"},Cl={class:"w2"},gl={class:"label"},Al={class:"selectInput"},yl={class:"w3"},hl={class:"label"},bl={class:"item"},fl={class:"rightTips"},kl={class:"bottomInfo"},wl={class:"value"},Pl={class:"btnWrap"},Vl=e({__name:"tabContent",props:["outTabIdx","currContract","currPosition"],emits:["close"],setup(e,{emit:l}){const a=e,{t:r}=t(),o=l,p=s(),C=s(),g=s(),A=s(""),h=s(1),b=[{text:r("最新价格"),value:1}],f=s(1),B=[{text:r("限价"),value:1}],E=e=>{let l,t;return l=a.currContract.multiplier,t=a.currContract.pair.maxCountDecimalDigit,x(e*l,t)};y((()=>{g.value=E(a.currPosition.count),C.value=a.currContract.fairPriceLast,T()}));const T=()=>{let e=1*C.value-a.currPosition.entryPrice;e*=a.currContract.multiplier,A.value=x(e*a.currPosition.count,6)},K=async()=>{if(!p.value)return m(r("请输入触发价格")),!1;if(!C.value)return m(r("请输入下单价格")),!1;if(!g.value)return m(r("请输入下单数量")),!1;let e=a.currContract,l={entrustPrice:C.value,triggerPrice:p.value,entrustCount:g.value/e.multiplier*1};l.contractCode=e.contractCode,l.entrustSide="C",l.entrustType="short"==a.currPosition.positionType?"B":"S",l.entrustMode="11",await de.createContractOrder(l),m(r("下单成功")),(async()=>{o("close")})()};return V((()=>g.value),(e=>{e&&(e>E(a.currPosition.count)&&(g.value=E(a.currPosition.count)),T())})),(e,l)=>{const t=ve,s=le,o=ae,m=Z;return n(),d("div",ll,[c("ul",al,[c("li",null,[c("p",null,i(v(r)("合约"))+" ("+i(a.currContract.settlementKey)+") ",1),c("p",{class:k(""+("short"==a.currPosition.positionType?"red":"green"))},i(a.currContract.keyCapital)+" "+i(v(r)("永续"))+" / "+i(v(r)("long"==a.currPosition.positionType?"买":"卖"))+" "+i(a.currPosition.leverage)+"x",3)]),c("li",null,[c("p",null,i(v(r)("开仓价格"))+" ("+i(a.currContract.quoteKey)+") ",1),c("p",null,i(a.currPosition.entryPrice),1)]),c("li",null,[c("p",null,i(v(r)("标记价格"))+" ("+i(a.currContract.quoteKey)+") ",1),c("p",null,i(a.currContract.fairPriceLast),1)])]),c("ul",tl,[c("li",rl,[c("p",sl,i(v(r)("触发价格")),1),c("div",nl,[w(t,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=e=>p.value=e),placeholder:"价格"},null,8,["modelValue"]),c("div",ol,[c("span",null,i(a.currContract.quoteKey),1)])])]),c("li",ul,[c("p",cl,i(v(r)("触发类型")),1),c("div",il,[w(o,null,{default:u((()=>[w(s,{modelValue:h.value,"onUpdate:modelValue":l[1]||(l[1]=e=>h.value=e),options:b},null,8,["modelValue"])])),_:1})])]),c("li",vl,[c("p",dl,i(v(r)("价格")),1),c("div",pl,[w(t,{modelValue:C.value,"onUpdate:modelValue":l[2]||(l[2]=e=>C.value=e),placeholder:v(r)("价格")},null,8,["modelValue","placeholder"]),c("div",ml,[c("span",null,i(a.currContract.quoteKey),1)])])]),c("li",Cl,[c("p",gl,i(v(r)("委托类型")),1),c("div",Al,[w(o,null,{default:u((()=>[w(s,{modelValue:f.value,"onUpdate:modelValue":l[3]||(l[3]=e=>f.value=e),options:B},null,8,["modelValue"])])),_:1})])]),c("li",yl,[c("p",hl,i(v(r)("数量")),1),c("div",bl,[w(t,{modelValue:g.value,"onUpdate:modelValue":l[4]||(l[4]=e=>g.value=e),max:E(a.currPosition.count),placeholder:""},null,8,["modelValue","max"]),c("div",fl,[c("span",null,i(a.currContract.baseKey),1)])])])]),c("ul",kl,[c("li",null,[c("p",null,i(v(r)("仓位数量")),1),c("p",wl,i(E(a.currPosition.count))+" "+i(a.currContract.baseKey),1)]),c("li",null,[c("p",null,i(v(r)("预计盈亏")),1),c("p",{class:k("value "+(A.value>0?"green":"red"))},i(A.value)+" "+i(a.currContract.settlementKey),3)])]),P("",!0),c("div",Pl,[w(m,{type:"primary",block:"",onClick:K},{default:u((()=>[D(i(v(r)("确定")),1)])),_:1})])])}}},[["__scopeId","data-v-bbd61c9b"]]),Dl={__name:"index",props:["currContract","currPosition"],emits:["close"],setup(e,{emit:l}){const{t:a}=t();let r=s(!0);const c=e,i=l,m=async()=>{i("close")},g=s(0),A=[a("止盈/止损")];return(e,l)=>{const a=be,t=fe,s=C;return n(),o(s,{show:v(r),"onUpdate:show":l[1]||(l[1]=e=>p(r)?r.value=e:r=e),position:"bottom",round:"",closeable:"",onClose:m,teleport:"body"},{default:u((()=>[w(t,{active:g.value,"onUpdate:active":l[0]||(l[0]=e=>g.value=e),shrink:""},{default:u((()=>[(n(),d(b,null,f(A,((e,l)=>w(a,{title:e,key:l},{default:u((()=>[w(Vl,{outTabIdx:g.value,currPosition:c.currPosition,currContract:c.currContract,onClose:m},null,8,["outTabIdx","currPosition","currContract"])])),_:2},1032,["title"]))),64))])),_:1},8,["active"])])),_:1},8,["show"])}}},xl={class:"headTittle"},Bl={class:"content"},El={class:"topInfo"},Tl={class:"formList"},Kl={class:"w1"},Il={class:"label"},Sl={class:"rightTips"},Ll={class:"w2"},Nl={class:"label"},Fl={class:"selectInput"},Ml={class:"w3"},Ul={class:"label"},Ql={class:"item"},Hl={class:"rightTips"},Jl={class:"bottomInfo"},Rl={class:"value"},Xl={class:"btnWrap"},Wl=e({__name:"wareHouse",props:["currContract","currPosition"],emits:["close"],setup(e,{emit:l}){let a=s(!0);const r=e,d=l,g=async()=>{d("close")},{t:A}=t(),h=s(),b=s(),f=s(""),B=s(1),E=[{text:A("市价"),value:1},{text:A("限价"),value:2}],T=e=>{let l,a;return l=r.currContract.multiplier,a=r.currContract.pair.maxCountDecimalDigit,x(e*l,a)};y((()=>{b.value=T(r.currPosition.count),K()}));const K=()=>{let e;e=1==B.value?1*r.currContract.fairPriceLast-r.currPosition.entryPrice:1*h.value-r.currPosition.entryPrice,e*=r.currContract.multiplier,f.value=x(e*r.currPosition.count,6)},I=async()=>{if(2==B.value&&!h.value)return m(A("请输入下单价格")),!1;if(!b.value)return m(A("请输入下单数量")),!1;let e=r.currContract,l={entrustPrice:h.value,entrustCount:b.value/e.multiplier*1};l.contractCode=e.contractCode,l.entrustSide="C",l.entrustType="short"==r.currPosition.positionType?"B":"S",l.entrustMode=1==B.value?"20":"10",await de.createContractOrder(l),m(A("下单成功")),g()};return V((()=>b.value),(e=>{e&&(e>T(r.currPosition.count)&&(b.value=T(r.currPosition.count)),K())})),(e,l)=>{const t=ve,s=le,d=ae,m=Z,y=C;return n(),o(y,{show:v(a),"onUpdate:show":l[3]||(l[3]=e=>p(a)?a.value=e:a=e),position:"bottom",round:"",closeable:"",onClose:g,teleport:"body"},{default:u((()=>[c("div",xl,i(v(A)("平仓")),1),c("div",Bl,[c("ul",El,[c("li",null,[c("p",null,i(v(A)("合约"))+" ("+i(r.currContract.settlementKey)+") ",1),c("p",{class:k(""+("short"==r.currPosition.positionType?"red":"green"))},i(r.currContract.keyCapital)+" "+i(v(A)("永续"))+" / "+i(v(A)("long"==r.currPosition.positionType?"买":"卖"))+" "+i(r.currPosition.leverage)+"x",3)]),c("li",null,[c("p",null,i(v(A)("开仓价格"))+" ("+i(r.currContract.quoteKey)+") ",1),c("p",null,i(r.currPosition.entryPrice),1)]),c("li",null,[c("p",null,i(v(A)("标记价格"))+" ("+i(r.currContract.quoteKey)+") ",1),c("p",null,i(r.currContract.fairPriceLast),1)])]),c("ul",Tl,[c("li",Kl,[c("p",Il,i(v(A)("价格")),1),c("div",{class:k("item "+(1==B.value?"":"active"))},[w(t,{modelValue:h.value,"onUpdate:modelValue":l[0]||(l[0]=e=>h.value=e),disabled:1==B.value,placeholder:v(A)("价格")},null,8,["modelValue","disabled","placeholder"]),c("div",Sl,[c("span",null,i(r.currContract.quoteKey),1)])],2)]),c("li",Ll,[c("p",Nl,i(v(A)("委托类型")),1),c("div",Fl,[w(d,null,{default:u((()=>[w(s,{modelValue:B.value,"onUpdate:modelValue":l[1]||(l[1]=e=>B.value=e),options:E},null,8,["modelValue"])])),_:1})])]),c("li",Ml,[c("p",Ul,i(v(A)("数量")),1),c("div",Ql,[w(t,{modelValue:b.value,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value=e),max:T(r.currPosition.count),placeholder:""},null,8,["modelValue","max"]),c("div",Hl,[c("span",null,i(r.currContract.baseKey),1)])])])]),c("ul",Jl,[c("li",null,[c("p",null,i(v(A)("仓位数量")),1),c("p",Rl,i(T(r.currPosition.count))+" "+i(r.currContract.baseKey),1)]),c("li",null,[c("p",null,i(v(A)("预计盈亏")),1),c("p",{class:k("value "+(f.value>0?"green":"red"))},i(f.value)+" "+i(r.currContract.settlementKey),3)])]),P("",!0),c("div",Xl,[w(m,{type:"primary",block:"",onClick:I},{default:u((()=>[D(i(v(A)("确定")),1)])),_:1})])])])),_:1},8,["show"])}}},[["__scopeId","data-v-5649712c"]]),ql={class:"headTittle"},Ol={class:"content"},Gl={class:"formList"},jl={class:"label"},Yl={class:"itemWrap"},Zl={class:"selectInput"},zl={class:"item"},_l={class:"rightCol"},$l={class:"rightTips"},ea={class:"bottomInfo"},la={class:"value"},aa={key:0,class:"value green"},ta={key:1,class:"value green"},ra={class:"value green"},sa={class:"btnWrap"},na=e({__name:"bond",props:["currContract","currPosition"],emits:["close"],setup(e,{emit:l}){let a=s(!0);const m=e,{t:g}=t(),A=B(),h=l,b=async()=>{h("close")},f=s(),k=s(1),P=s(""),E=[{text:g("增加"),value:1},{text:g("减少"),value:2}],T=r((()=>A.getCash("contract",m.currContract.settlementKey))),K=()=>{let{multiplier:e,pair:l}=m.currContract,{entryPrice:a,positionType:t,leverage:r,maintMarginRate:s,total:n}=m.currPosition,o=1*m.currPosition.margin;if(1==k.value?o+=1*f.value||0:o-=1*f.value||0,console.log(o),"long"==t){let t=x(1*a*(1-1/r*1+1*s)-(o||0)/e*1/n,l.maxPriceDecimalDigit);P.value=t<=0?g("永不爆仓"):t}else{let t=x(1*a*(1+1/r*1-1*s)+(o||0)/e*1/n,l.maxPriceDecimalDigit);P.value=t}},I=async()=>{await de.changeMargin({contractCode:m.currPosition.contractCode,positionType:m.currPosition.positionType,amount:1==k.value?f.value:-1*f.value}),h("close")};return y((()=>{K()})),V((()=>f.value),(()=>{let e=1==k.value?T.value:m.currPosition.margin;f.value>e&&(f.value=e),K()})),(e,l)=>{const t=le,r=ae,s=ve,A=Z,y=C;return n(),o(y,{show:v(a),"onUpdate:show":l[4]||(l[4]=e=>p(a)?a.value=e:a=e),position:"bottom",round:"",closeable:"",onClose:b,teleport:"body"},{default:u((()=>[c("div",ql,i(v(g)("调整保证金")),1),c("div",Ol,[c("ul",Gl,[c("li",null,[c("p",jl,i(v(g)("数量")),1),c("div",Yl,[c("div",Zl,[w(r,null,{default:u((()=>[w(t,{modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=e=>k.value=e),options:E,onChange:l[1]||(l[1]=e=>f.value="")},null,8,["modelValue"])])),_:1})]),c("div",zl,[w(s,{modelValue:f.value,"onUpdate:modelValue":l[2]||(l[2]=e=>f.value=e),placeholder:v(g)("数量")},null,8,["modelValue","placeholder"]),c("div",_l,[c("div",{class:"green",onClick:l[3]||(l[3]=e=>f.value=1==k.value?T.value:m.currPosition.margin)},i(v(g)("最大")),1),c("div",$l,[c("span",null,i(m.currContract.settlementKey),1)])])])])])]),c("ul",ea,[c("li",null,[c("p",null,i(v(g)("当前仓位保证金")),1),c("p",la,i(m.currPosition.userMargin)+" "+i(m.currContract.settlementKey),1)]),c("li",null,[c("p",null,i(v(g)("最大可增加")),1),1==k.value?(n(),d("p",aa,i(T.value)+" "+i(m.currContract.settlementKey),1)):(n(),d("p",ta,i(m.currPosition.margin)+" "+i(m.currContract.settlementKey),1))]),c("li",null,[c("p",null,i(v(g)("调整后参考强平价")),1),c("p",ra,i(P.value),1)])]),c("div",sa,[w(A,{type:"primary",block:"",onClick:I},{default:u((()=>[D(i(v(g)("确定")),1)])),_:1})])])])),_:1},8,["show"])}}},[["__scopeId","data-v-983c72cf"]]),oa={class:"top"},ua={class:"leftCol"},ca={key:0,class:"list"},ia={class:"topRow"},va={class:"leftCol"},da={class:"w w1"},pa={class:"w w2"},ma={class:"g g1"},Ca={class:"g g2"},ga={class:"recs"},Aa={class:"row2"},ya={class:"leftCol"},ha={class:"nomalTt"},ba={class:"rightCol"},fa={class:"nomalTt"},ka={class:"row3"},wa={class:"leftCol"},Pa={class:"nomalTt dashLine"},Va={class:"whiteNomal"},Da={class:"nomalTt"},xa={class:"whiteNomal"},Ba={class:"col2"},Ea={class:"nomalTt"},Ta=["onClick"],Ka=[(e=>(g("data-v-5143a7de"),e=e(),A(),e))((()=>c("img",{src:re,class:"addIcon"},null,-1)))],Ia={class:"whiteNomal"},Sa={class:"nomalTt"},La={class:"whiteNomal"},Na={class:"rightCol"},Fa={class:"nomalTt"},Ma={class:"nomalTt"},Ua={class:"whiteNomal dashLine"},Qa={class:"btnsWrap"},Ha=e({__name:"positionList",props:["currPair","currContract"],emits:["openShare","change"],setup(e,{emit:p}){const m=s(!1),C=()=>{m.value=!m.value},g=e,{t:A}=t(),y=E();a();const h=l(),V=async()=>{if(!h.isLogin())return h.connect(),!1;await de.closeAllPosition(),showToast(A("一键平仓发起成功"))},B=(e,l)=>{let a,t;if(l==g.currContract.contractCode)a=g.currContract.multiplier,t=g.currContract.pair.maxCountDecimalDigit;else{const e=y.contractInfoMap[l];a=e.multiplier,t=e.pair.maxCountDecimalDigit}return x(e*a,t)},K=r((()=>{let e=y.positionInfo,l=[];return Object.keys(e).forEach((a=>{let t=e[a];t.count>0&&(m.value?t.contractCode==g.currContract.contractCode&&l.push(t):l.push(t))})),I("change",l.length),l})),I=p,S=s(!1),L=s(null),N=()=>{S.value=!1,L.value=null},F=s(!1),M=()=>{F.value=!1,L.value=null},U=s(!1),Q=()=>{U.value=!1,L.value=null},H=s(!1),J=()=>{H.value=!1},R=s(1);return(e,l)=>{const a=Z;return n(),d(b,null,[c("div",oa,[c("div",ua,[c("span",{class:k("gou "+(m.value?"active":"")),onClick:C},null,2),c("span",null,i(v(A)("隐藏其他合约")),1)]),w(a,{size:"small",onClick:V},{default:u((()=>[c("span",null,i(v(A)("一键平仓")),1)])),_:1})]),K.value.length>0?(n(),d("ul",ca,[(n(!0),d(b,null,f(K.value,((e,l)=>(n(),d("li",{key:l},[c("div",ia,[c("div",va,[c("p",{class:k("sign "+("short"==e.positionType?"signRed":""))},i(v(A)("long"==e.positionType?"买":"卖")),3),c("span",da,i(e.contractCode.toUpperCase()),1),c("span",pa,i(v(A)("永续")),1),c("span",ma,i(v(A)("0"==e.positionMode?"全仓":"逐仓")),1),c("span",Ca,i(e.leverage)+"X ",1),c("div",ga,[(n(),d(b,null,f(5,(e=>c("p",{key:e,class:k(""+(e<R.value?"active":""))},null,2))),64))])]),P("",!0)]),c("div",Aa,[c("div",ya,[c("p",ha,i(v(A)("未实现盈亏"))+" ("+i(e.settlementCurrency.toUpperCase())+") ",1),c("p",{class:k(e.unrealised<0?"bigRedPrice":"bigGreenPrice")},i(e.unrealised),3)]),c("div",ba,[c("p",fa,i(v(A)("回报率")),1),c("p",{class:k(e.unrealised<0?"bigRedPrice":"bigGreenPrice")},i(v(T)(e.rewardPercent,2,!1)),3)])]),c("div",ka,[c("div",wa,[c("div",null,[c("p",Pa,i(v(A)("持仓数量"))+" ("+i(e.baseCurrency.toUpperCase())+") ",1),c("p",Va,i(B(e.total,e.contractCode)),1),c("p",Da,i(v(A)("开仓价格"))+" ("+i(e.quoteCurrency.toUpperCase())+") ",1),c("p",xa,i(e.entryPrice),1)]),c("div",Ba,[c("p",Ea,[c("span",null,i(v(A)("保证金"))+" ("+i(e.settlementCurrency.toUpperCase())+") ",1),"1"==e.positionMode?(n(),d("span",{key:0,onClick:l=>{return a=e,L.value=a,void(H.value=!0);var a}},Ka,8,Ta)):P("",!0)]),c("p",Ia,i(e.userMargin),1),c("p",Sa,i(v(A)("标记价格"))+" ("+i(e.quoteCurrency.toUpperCase())+") ",1),c("p",La,i(v(y).contractInfoMap[e.contractCode].fairPriceLast),1)])]),c("div",Na,[c("p",Fa,i(v(A)("保证金率")),1),c("p",{class:k(e.unrealised<0?"redNomal":"greenNomal")},i(e.marginRate)+"% ",3),c("p",Ma,i(v(A)("强平价格"))+" ("+i(e.quoteCurrency.toUpperCase())+") ",1),c("p",Ua,i(0==e.liquidationPrice?v(A)("永不爆仓"):e.liquidationPrice),1)])]),c("div",Qa,[w(a,{onClick:l=>{return a=e,L.value=a,void(S.value=!0);var a}},{default:u((()=>[D(i(v(A)("调整杠杆")),1)])),_:2},1032,["onClick"]),e.count>0?(n(),o(a,{key:0,onClick:l=>{return a=e,L.value=a,void(F.value=!0);var a}},{default:u((()=>[D(i(v(A)("止盈止损")),1)])),_:2},1032,["onClick"])):P("",!0),e.count>0?(n(),o(a,{key:1,onClick:l=>{return a=e,L.value=a,void(U.value=!0);var a}},{default:u((()=>[D(i(v(A)("平仓")),1)])),_:2},1032,["onClick"])):P("",!0)])])))),128))])):(n(),o(me,{key:1})),S.value?(n(),o(el,{key:2,onClose:N,currPosition:L.value,currContract:v(y).contractInfoMap[L.value.contractCode],direction:L.value.positionType,currLeverage:L.value.leverage},null,8,["currPosition","currContract","direction","currLeverage"])):P("",!0),F.value?(n(),o(Dl,{key:3,onClose:M,currPosition:L.value,currContract:v(y).contractInfoMap[L.value.contractCode]},null,8,["currPosition","currContract"])):P("",!0),U.value?(n(),o(Wl,{key:4,onClose:Q,currPosition:L.value,currContract:v(y).contractInfoMap[L.value.contractCode]},null,8,["currPosition","currContract"])):P("",!0),H.value?(n(),o(na,{key:5,onClose:J,currPosition:L.value,currContract:v(y).contractInfoMap[L.value.contractCode]},null,8,["currPosition","currContract"])):P("",!0)],64)}}},[["__scopeId","data-v-5143a7de"]]),Ja=e=>(g("data-v-f39f8675"),e=e(),A(),e),Ra={class:"top"},Xa={class:"leftCol"},Wa=Ja((()=>c("img",{class:"chexiao",src:we},null,-1))),qa={key:0,class:"list"},Oa={class:"topRow"},Ga={class:"leftCol"},ja={class:"whiteB"},Ya=Ja((()=>c("span",{class:"line"},"/",-1))),Za={class:"rightCol"},za={class:"greyS"},_a={class:"inner"},$a={class:"mid"},et={class:"row"},lt={class:"value"},at={class:"white"},tt={key:0,class:"row"},rt={class:"label"},st={class:"value"},nt={class:"row"},ot={class:"label"},ut={class:"value"},ct={key:1,class:"row"},it={class:"label"},vt={class:"value"},dt={key:2,class:"row"},pt={class:"label"},mt={class:"value"},Ct="global.public.platform@203",gt=e({__name:"currentList",props:["currPair","currContract"],emits:["change","openConfirm"],setup(e,{emit:p}){const C=s(!1),g=()=>{C.value=!C.value},A=e,h=r((()=>A.currPair)),B=p;let T=s([]);const{t:U}=t(),Q=l(),H=E();a();const J=async()=>{const{data:e}=await de.queryContractEntrusts({pageNum:1,pageSize:10},{symbol:C.value?A.currContract.contractCode:null});T.value=e.list,B("change",T.value.length)},R=(e,l)=>{let a,t;if(l==A.currContract.contractCode)a=A.currContract.multiplier,t=h.value.maxCountDecimalDigit;else{const e=H.contractInfoMap[l];a=e.multiplier,t=e.pair.maxCountDecimalDigit}return x(e*a,t)},X=async()=>{if(!Q.isLogin())return Q.connect(),!1;await de.cancelAllContractEntrust({symbol:C.value?A.currContract.contractCode:null}),m(U("撤销全部发起成功"))},W=e=>{M(T.value,e,A.currContract.key),B("change",T.value.length)},q=e=>{try{if(!e)return e;if(!e.success)return!1;switch(e.action){case"create-order":case"finish-match":case"finish-cancel":W(e.data)}}catch(l){console.error(l)}};return y((()=>{Q.isLogin()&&(J(),K.on(Ct,q))})),I((()=>{K.off(Ct,q)})),V((()=>h.symbol),(()=>{J()})),V((()=>C.value),(()=>{J()})),(e,l)=>{const a=Z;return n(),d(b,null,[c("div",Ra,[c("div",Xa,[c("span",{class:k("gou "+(C.value?"active":"")),onClick:g},null,2),c("span",null,i(v(U)("隐藏其他交易对")),1)]),w(a,{size:"small",onClick:X},{default:u((()=>[Wa,c("span",null,i(v(U)("撤销全部")),1)])),_:1})]),v(T).length>0?(n(),d("ul",qa,[(n(!0),d(b,null,f(v(T),((e,l)=>(n(),d("li",{key:l},[c("div",Oa,[c("div",Ga,[c("p",ja,i(e.contractCode.toUpperCase())+" "+i(v(U)("永续")),1),c("div",{class:k("B"==e.entrustType?"greenTittle":"redTittle")},[c("span",null,i(v(S)(e)),1),Ya,c("span",null,i(v(L)(e)),1)],2)]),c("div",Za,[c("p",za,i(v(N)(e.createTime)),1),"20"!=e.orderStatus?(n(),o(a,{key:0,size:"mini",onClick:l=>(async({orderNo:e})=>{await de.cancelContractEntrust({orderNo:e}),m(U("撤单发起成功"))})(e)},{default:u((()=>[D(i(v(U)("撤单")),1)])),_:2},1032,["onClick"])):P("",!0)])]),c("div",_a,[w(ke,{rate:v(F)(e)},null,8,["rate"]),c("div",$a,[c("div",et,[c("span",null,i(v(U)("数量"))+" ("+i(e.leftCoin.toUpperCase())+")",1),c("p",lt,[c("span",at,i(R(e.leftAmountDeal,e.contractCode)),1),c("span",null," / "+i(R(e.leftAmount,e.contractCode)),1)])]),"C"==e.entrustSide?(n(),d("div",tt,[c("span",rt,i(v(U)("平仓")),1),c("p",st,[c("span",null,i(v(U)("是")),1)])])):P("",!0),c("div",nt,[c("span",ot,i(v(U)("价格")),1),c("p",ut,i(e.entrustPrice||v(U)("市价")),1)]),e.triggerPrice?(n(),d("div",ct,[c("span",it,i(v(U)("触发类型")),1),c("p",vt,i(v(U)("最新价格"))+" "+i("B"==e.entrustType?"≤":"≥")+" "+i(e.triggerPrice),1)])):P("",!0),"MAKER"==e.entrustStrategy?(n(),d("div",dt,[c("span",pt,i(v(U)("只做Marker")),1),c("p",mt,i(v(U)("是")),1)])):P("",!0)])])])))),128))])):(n(),o(me,{key:1}))],64)}}},[["__scopeId","data-v-f39f8675"]]),At=(e=>(g("data-v-195057e3"),e=e(),A(),e))((()=>c("div",{class:"shareContent"},[c("div",{class:"bigTt"}," share... ")],-1))),yt=e({__name:"shareItem",emits:["close"],setup(e,{emit:l}){const a=s(!0);return(e,l)=>{const t=Y;return n(),o(t,{show:a.value,"onUpdate:show":l[0]||(l[0]=e=>a.value=e),showConfirmButton:!1,closeOnClickOverlay:!0},{default:u((()=>[At])),_:1},8,["show"])}}},[["__scopeId","data-v-195057e3"]]),ht=e=>(g("data-v-bfd86f0e"),e=e(),A(),e),bt={class:"downListWrap"},ft={class:"errorContent"},kt=ht((()=>c("div",{class:"bigTt"}," 撤销全部订单 ",-1))),wt=ht((()=>c("div",{class:"desc"}," 确定撤销全部订单吗？ ",-1))),Pt={class:"btnWrap"},Vt=e({__name:"downList",props:["currPair","currContract"],setup(e){const t=e,r=a(),i=l(),p=s(0),m=()=>{r.push("/contract/entrusts")},C=s(!1),g=()=>{C.value=!0},A=()=>{C.value=!1},y=s(!1),h=()=>{y.value=!0},b=()=>{y.value=!1},f=s(0),k=s(0),V=e=>{f.value=e},x=e=>{k.value=e};return(l,a)=>{const r=be,s=fe,B=Z,E=Y;return n(),d("div",bt,[v(i).isLogin()?(n(),d("img",{key:0,class:"historyLink",onClick:m,src:pe})):(n(),d("img",{key:1,class:"historyLink",onClick:a[0]||(a[0]=e=>v(i).connect()),src:pe})),w(s,{active:p.value,"onUpdate:active":a[1]||(a[1]=e=>p.value=e),shrink:"",animated:""},{default:u((()=>[w(r,{title:l.$t("当前委托")+"("+f.value+")",key:"tab1"},{default:u((()=>[w(gt,{onOpenConfirm:g,currPair:e.currPair,currContract:t.currContract,onChange:V},null,8,["currPair","currContract"])])),_:1},8,["title"]),w(r,{title:l.$t("持有仓位")+"("+k.value+")",key:"tab2"},{default:u((()=>[w(Ha,{onOpenShare:h,currPair:e.currPair,currContract:t.currContract,onChange:x},null,8,["currPair","currContract"])])),_:1},8,["title"])])),_:1},8,["active"]),w(E,{show:C.value,"onUpdate:show":a[2]||(a[2]=e=>C.value=e),showConfirmButton:!1},{default:u((()=>[c("div",ft,[kt,wt,c("div",Pt,[w(B,{onClick:A},{default:u((()=>[D("取消")])),_:1}),w(B,{type:"primary",onClick:A},{default:u((()=>[D("确定")])),_:1})])])])),_:1},8,["show"]),y.value?(n(),o(yt,{key:2,onClose:b})):P("",!0)])}}},[["__scopeId","data-v-bfd86f0e"]]),Dt={class:"content"},xt={class:"bigTt"},Bt={class:"btnWrap"},Et={class:"bigF"},Tt={class:"downSlide"},Kt={class:"whiteRow"},It={class:"desc"},St={class:"whiteRow"},Lt={class:"desc"},Nt={class:"btnRow"},Ft=e({__name:"accountType",props:["currPosition","currContract"],emits:["close"],setup(e,{emit:l}){let a=s(!0);const t=e,r=l,d=()=>{r("close")};let m=s(t.currPosition.positionMode),g=s(!1);const A=()=>{g.value=!g.value},y=async()=>{if(m.value==t.currPosition.positionMode)return r("close"),!1;await de.changePositionMode({contractCode:t.currContract.contractCode,positionMode:m.value}),r("close")};return(e,l)=>{const t=Z,r=C;return n(),o(r,{show:v(a),"onUpdate:show":l[2]||(l[2]=e=>p(a)?a.value=e:a=e),position:"bottom",round:"",closeable:"",onClose:d},{default:u((()=>[c("div",Dt,[c("div",xt,i(e.$t("保证金模式")),1),c("div",Bt,[c("p",{class:k("btn "+("0"==v(m)?"btnActive":"")),onClick:l[0]||(l[0]=e=>p(m)?m.value="0":m="0")},i(e.$t("全仓")),3),c("p",{class:k("btn "+("1"==v(m)?"btnActive":"")),onClick:l[1]||(l[1]=e=>p(m)?m.value="1":m="1")},i(e.$t("逐仓")),3)]),c("div",Et,i(e.$t("调整保证金模式仅对当前合约生效。")),1),c("div",Tt,[c("div",{class:"tittle",onClick:A},[c("img",{class:k("arrow "+(v(g)?"arrowOpen":"")),src:Pe},null,2),c("span",null,i(e.$t("什么是全仓和逐仓模式？")),1)]),c("div",{class:k("slideContent "+(v(g)?"contentOpen":""))},[c("div",Kt,i(e.$t("全仓模式")),1),c("div",It,i(e.$t("保证金资产相同的全仓仓位共享该资产的全仓保证金。在强平事件中，交易者可能会损失全部该保证金和该保证金资产下的所有全仓仓位。")),1),c("div",St,i(e.$t("逐仓模式")),1),c("div",Lt,i(e.$t("一定数量保证金被分配到仓位上。如果仓位保证金亏损到低于维持保证金的水平，仓位将被强平。在逐仓模式下，您可以为这个仓位添加和减少保证金。")),1)],2)]),c("div",Nt,[w(t,{type:"primary",block:"",onClick:y},{default:u((()=>[D(i(e.$t("确定")),1)])),_:1})])])])),_:1},8,["show"])}}},[["__scopeId","data-v-b8543c68"]]),Mt=e=>(g("data-v-3fd9b2d4"),e=e(),A(),e),Ut={key:0,class:"midBlockWrap"},Qt={class:"topWrap"},Ht={class:"topTittle"},Jt={class:"toolHead"},Rt=Mt((()=>c("img",{class:"switch",src:ie},null,-1))),Xt={class:"cointype"},Wt={class:"s"},qt={class:"selectWrap"},Ot={class:"contentTop"},Gt={class:"leftCol"},jt={class:"select"},Yt={class:"select"},Zt={class:"rightCol"},zt={class:"dashLine"},_t={class:"whiteF"},$t={class:k("content stranchContent")},er={class:"leftCartWrap"},lr={class:"numBar"},ar={class:"th"},tr={class:"midRow"},rr={class:"greySmall"},sr={class:"downTools"},nr=[Mt((()=>c("img",{src:oe},null,-1)))],or={class:"rightForm"},ur={class:"tabBar"},cr=["onClick"],ir={class:"tipsRow"},vr={class:"rightCol"},dr={class:"selectInput"},pr={class:"innerTabWrap"},mr={class:"innerTab"},Cr=["onClick"],gr={class:"innerTabContent"},Ar={class:"priceList"},yr={class:"value"},hr={class:"dashLine"},br={class:"value"},fr={class:"submitBtn"},kr={key:0,class:"s"},wr={class:"priceList"},Pr={class:"value"},Vr={class:"dashLine"},Dr={class:"value"},xr={class:"submitBtn"},Br={key:0},Er={class:"priceList"},Tr={class:"value"},Kr={class:"submitBtn"},Ir={key:0,class:"s"},Sr={class:"priceList"},Lr={class:"value"},Nr={class:"submitBtn"},Fr={key:0},Mr={class:"errorContent"},Ur={class:"bigTt"},Qr={class:"desc"},Hr={class:"btnWrap"},Jr=e({__name:"index",setup(e){const p=["exchange.public.contract.ticker","exchange.public.contract.position",X],C=U(),g=a(),{t:A}=t(),h=E(),x=l(),S=B(),L=s(C.params.symbol);s(!1);const N=s(0),F=s(!1),M=s(!1);s("");const _=[{name:A("预设")},{name:A("展示卖单")},{name:A("展示买单")}],$=[{label:A("开仓"),value:1},{label:A("平仓"),value:2}],te=[{label:A("数量"),value:1},{label:A("成交额"),value:2}],re=s(2==C.query.entrustType?2:1),oe=s(1),ie=s(1),ve=s(null),pe=s(!1),me=s(1);s("");const Ce=s(""),be=s({entrustPrice:"",entrustCount:0,entrustType:"",entrustSide:"",entrustStrategy:"GTC",entrustMode:"",triggerPrice:"",percent:0}),fe=s({leftAmount:"",rightAmount:""}),ke=[{text:A("限价单"),value:1},{text:A("只做Marker"),value:2},{text:A("限价止盈止损"),value:3}],we=e=>{be.value.entrustPrice=1*e},Pe=()=>{be.value={entrustPrice:"",entrustCount:0,entrustType:"",entrustSide:"",entrustStrategy:"GTC",entrustMode:"",triggerPrice:"",percent:0},fe.value={leftAmount:"",rightAmount:""},Ce.value=""},Ve=()=>{F.value=!0},De=()=>{M.value=!0},xe=s(!1),Be=()=>{pe.value=!0},Ee=()=>{pe.value=!1},Te=s(!1),Ke=()=>{Te.value=!0},Ie=()=>{Te.value=!1},Se=s(!1),Le=()=>{Se.value=!0},Ne=()=>{Se.value=!1},Fe=s(!1),Me=s(""),Ue=e=>{Me.value=e,Fe.value=!0},Qe=()=>{Me.value="",Fe.value=!1},He=e=>{let l=Je.value.key;if(void 0===e.symbol||e.symbol===l){if(!e.symbol&&Array.isArray(e.data)){if(!e.data.find((e=>e.symbol===l)))return}if(e.success)switch(e.symbol,e.positionType,e.action){case"change-risk-limit":m(A("切换风险限额至")+`${e.data}`+A("成功"));break;case"change-leverage":m(A("切换杠杆至")+""+e.data+"X"+A("成功"));break;case"change-margin":m(A("修改保证金成功"));break;case"change-mode":m(A("切换仓位至")+`${0==e.data?A("全仓"):A("逐仓")}`+A("成功"));break;case"create-order":m(A("下单成功"));break;case"finish-cancel":m(A("撤单成功"))}else m(e.msg||A("操作失败"))}},Je=r((()=>h.contractInfoMap[L.value])),Xe=r((()=>Je.value.pair)),We=r((()=>Je.value?Je.value.pair.depths[N.value]:{})),qe=r((()=>Je.value?We.value.value:1)),Oe=r((()=>{if(!Je.value)return 1;let e={long:{count:0,show:"0",perMargin:"",margin:"",amount:""},short:{count:0,show:"0",perMargin:"",margin:"",amount:""}};const l=Number(be.value.entrustPrice);if(!l)return e;const a=Number(Je.value.fairPriceLast);if(!a)return e;const t=Number(cl.value);if(!t)return e;const r=Je.value.pair,s=Je.value.multiplier,n=Ae({piece:1,price:l,fairPriceLast:a,multiplier:s,leverage:ol.value.long,feeRate:Je.value.takerFee,maxD:r.maxPriceDecimalDigit});e.long.perMargin=n,e.long.count=ye(t,n),e.long.show=_e({count:e.long.count,price:l});const o=be.value.entrustCount;o&&(e.long.margin=ge(n*o,2),e.long.amount=$e({count:o,price:l}));const u=rl.value.length?rl.value[0].price:0,c=he({piece:1,price:l,fairPriceLast:a,discBestBuyPrice:u,multiplier:s,leverage:ol.value.short,feeRate:Je.value.takerFee,maxD:r.maxPriceDecimalDigit});e.short.perMargin=c,e.short.count=ye(t,c);const i=be.value.entrustCount;return i&&(e.short.margin=ge(c*i,2),e.short.amount=$e({count:i,price:l})),e.short.show=_e({count:e.short.count,price:l}),e})),Ge=s(0),je=s(0),Ye=s(0),Ze=s(0),ze=e=>{let l=Xe.value;return G(e,l.maxCountDecimalDigit)?j(e,l.maxCountDecimalDigit):e},_e=({count:e,price:l})=>{let{multiplier:a}=Je.value;return 1==oe.value?ze(e*a):ze(e*a*l)},$e=({count:e,price:l})=>{let{multiplier:a}=Je.value;return ze(e*a*l)},ll=({count:e,amount:l})=>{let{multiplier:a}=Je.value;return 1==oe.value?ze(e*a):l},al=e=>{let l=be.value;if(console.log(l),!l.entrustCount)return!1;let a=me.value;if(1==re.value){if(l.entrustMargin>cl.value)return xe.value=!0,!1}else{let{long:e,short:a}=nl.value;if("B"==l.entrustType){if(l.entrustCount>a.count)return m(A("仓位不足")),!1}else if(l.entrustCount>e.count)return m(A("仓位不足")),!1}return!!l.entrustPrice&&!("3"==a&&!l.triggerPrice)},tl=async e=>{if(!al(re.value))return!1;if(!(()=>{let{priceRange:e,ticker:l,rightKey:a}=Xe.value;if(0==e)return!0;const t=Je.value.fairPriceLast,r=be.value.entrustPrice,s=1*t*e;return!(0!=t&&(r>1*t+1*s?(m(A("下单价格不能大于")+`${1*t+1*s} ${a}`),1):r<1*t-1*s&&(m(A("下单价格不能小于")+`${1*t-1*s} ${a}`),1)))})())return!1;if(!(()=>{let{maxPiece:e,maxCount:l,minPiece:a,minCount:t,leftKey:r,ticker:s}=Xe.value,n=be.value.entrustCount;return 0!=e&&1*n>1*e?(m(A("下单数量不能大于")+`${1*l} ${r}`),!1):!(0!=a&&1*n<1*a&&(m(A("下单数量不能小于")+`${1*t} ${r}`),1))})())return!1;let l=be.value,a=Je.value;l.contractCode=a.contractCode,l.entrustSide=1==re.value?"O":"C",l.entrustType=e;let t=me.value;"1"==t?l.entrustMode="10":"2"==t?(l.entrustMode="10",l.entrustStrategy="MAKER"):"3"==t&&(l.entrustMode="11"),await de.createContractOrder(l),m(A("下单成功"))},rl=r((()=>{const e=h.discBuyList;if(!e)return[];let{multiplier:l}=Je.value,a=Ge.value,t=2==a?16:0==a?8:0;t=t>e.length?e.length:t;let r=0,s=0;const n=[];for(;r<t;r++){let a=e[r];a.show=a.amount*l,s+=a.show,a.total=s,n.push(a)}return Ye.value=s,n})),sl=r((()=>{const e=h.discSellList;if(!e)return[];let{multiplier:l}=Je.value,a=Ge.value,t=1==a?16:0==a?8:0;t=t>e.length?e.length:t;let r=0,s=0;const n=[];for(;r<t;r++){let a=e[r];a.show=a.amount*l,s+=a.show,a.total=s,n.unshift(a)}return je.value=s,n})),nl=r((()=>{let e=L.value+":long",l=h.positionInfo;const a={positionMode:0,long:{leverage:20},short:{leverage:20}};if(l[e]){let t=l[e];t.show=ll(t),a.long=t,a.positionMode=l[e].positionMode}if(e=L.value+":short",l[e]){let t=l[e];t.show=ll(t),a.short=t,a.positionMode=l[e].positionMode}return a})),ol=r((()=>{const e=nl.value;return{long:e.long?parseInt(e.long.leverage):O,short:e.short?parseInt(e.short.leverage):O}})),ul=r((()=>{let{baseKey:e,quoteKey:l}=Je.value;return 1==oe.value?e:l})),cl=r((()=>S.getCash("contract",Je.value.settlementKey))),il=r((()=>{const e=h.indexPriceMap;try{return e[`${Je.value.marketMethod.indexSymbol}_fr_8h`]}catch(l){return"--"}})),vl=r((()=>{let e=Ze.value,l=Math.floor(e/3600),a=`${Math.floor((e-60*l*60)/60)}`.padStart(2,"0"),t=(""+e%60).padStart(2,"0");return l=`${l}`.padStart(2,"0"),`${l}:${a}:${t}`})),dl=()=>{let e=fe.value.leftAmount;e&&(be.value.entrustPrice||(be.value.entrustPrice=Je.value.ticker.last),be.value.entrustCount=e/Je.value.multiplier)},pl=()=>{let e=fe.value.rightAmount;console.log(e),e&&(be.value.entrustPrice||(be.value.entrustPrice=Je.value.ticker.last),be.value.entrustCount=ge(e/Je.value.multiplier/be.value.entrustPrice,0))};V((()=>me.value),(e=>{Pe()})),V((()=>re.value),(e=>{Pe()})),V((()=>oe.value),(e=>{Pe()})),y((()=>{Q.subscribes(p),Q.subscribeContractFair(),Q.clearAndStartContractNewest(L.value),Q.clearContractCurrAndSubscribeDisc(L.value,qe.value),ve.value=setInterval((()=>{(()=>{let e=new Date;e.getHours()<4?Ze.value=28800-(60*e.getHours()*60+60*e.getMinutes()+e.getSeconds()+14400):e.getHours()<12?Ze.value=28800-(60*e.getHours()*60+60*e.getMinutes()+e.getSeconds()-14400):e.getHours()<20?Ze.value=28800-(60*e.getHours()*60+60*e.getMinutes()+e.getSeconds()-43200):Ze.value=28800-(60*e.getHours()*60+60*e.getMinutes()+e.getSeconds()-72e3)})()}),1e3),x.isLogin()&&(de.getPositions(),de.getSelfContracts()),K.on(H,He)})),I((()=>{Q.unsubscribes(p),Q.unSubscribeContractFair(),Q.clearCurrContractNewest(),Q.clearContractCurrAndSubscribeDisc(),ve.value&&clearInterval(ve.value),K.off(H,He)})),J(((e,l,a)=>{L.value=e.params.symbol,N.value=0,Pe(),Q.clearAndStartContractNewest(L.value),Q.clearContractCurrAndSubscribeDisc(L.value,qe.value),a(),console.log("beforeRouteUpdate")}));const ml=()=>{g.push({path:"/contract/kline/"+L.value})},Cl=()=>{g.push("/fundTransfer/spot/contract/"+Je.value.settlementKey)},gl=()=>{x.connect()};return(e,l)=>{const a=le,t=ae,r=ee,s=Z,p=z,m=Y;return null!=Je.value?(n(),d("div",Ut,[c("div",Qt,[c("div",Ht,i(v(A)("U本位合约")),1),c("div",Jt,[c("div",{class:"leftCol",onClick:Be},[Rt,c("span",Xt,i(Je.value.keyCapital),1),c("span",Wt,i("6"===Je.value.contractType?v(A)("永续"):""),1)]),c("div",{class:"rightCol"},[c("img",{src:se,onClick:ml}),c("img",{onClick:Ke,src:ne})])]),c("div",qt,[v(x).isLogin()?(n(),d("div",{key:0,class:"select",onClick:Le},i(v(A)(1==nl.value.positionMode?"逐仓":"全仓")),1)):(n(),d("div",{key:1,class:"select",onClick:l[0]||(l[0]=e=>gl())},i(v(A)("全仓")),1)),c("span",{class:k(["percent",""+(Je.value.ticker.changeRange<0?"upColor":"")])},i(v(T)(Je.value.ticker.changeRange)),3)])]),c("div",null,[c("div",Ot,[c("div",Gt,[c("div",jt,[c("span",null,i(v(A)("多仓")),1),v(x).isLogin()?(n(),d("span",{key:0,class:"active",onClick:l[1]||(l[1]=e=>Ue("long"))},i(ol.value.long)+"x ",1)):(n(),d("span",{key:1,class:"active",onClick:l[2]||(l[2]=e=>gl())}," 20x "))]),c("div",Yt,[c("span",null,i(v(A)("空仓")),1),v(x).isLogin()?(n(),d("span",{key:0,class:"active redFont",onClick:l[3]||(l[3]=e=>Ue("short"))},i(ol.value.short)+"x ",1)):(n(),d("span",{key:1,class:"active redFont",onClick:l[4]||(l[4]=e=>gl())}," 20x "))])]),c("div",Zt,[c("p",zt,i(v(A)("资金费率"))+"/"+i(v(A)("倒计时")),1),c("p",_t,i(v(T)(il.value,6,!1))+"/"+i(vl.value),1)])]),c("div",$t,[c("div",er,[c("div",lr,[c("div",ar,[c("div",null,[c("p",null,i(v(A)("价格")),1),c("p",null," ("+i(Je.value.quoteKey)+") ",1)]),c("div",null,[c("p",null,i(v(A)("数量")),1),c("p",null," ("+i(Je.value.baseKey)+") ",1)])]),w(ue,{defaulRowNum:2==Ge.value?0:8,isRedBg:1,isRedFont:1,list:sl.value,maxTotal:je.value,maxCountDecimalDigit:Je.value.pair.maxCountDecimalDigit,priceLength:We.value.len,onChoose:we},null,8,["defaulRowNum","list","maxTotal","maxCountDecimalDigit","priceLength"]),c("div",tr,[c("p",{class:k(Je.value.ticker.changeRange>0?"redBig":"greenBig")},i(Je.value.ticker.last),3),c("p",rr,i(Je.value.fairPriceLast),1)]),w(ue,{defaulRowNum:1==Ge.value?0:8,list:rl.value,maxTotal:Ye.value,maxCountDecimalDigit:Je.value.pair.maxCountDecimalDigit,priceLength:We.value.len,onChoose:we},null,8,["defaulRowNum","list","maxTotal","maxCountDecimalDigit","priceLength"])]),c("div",sr,[c("div",{class:"select",onClick:Ve},i(We.value.label),1),c("div",{class:"typeIcons",onClick:De},nr)])]),c("div",or,[c("div",ur,[(n(),d(b,null,f($,((e,l)=>c("p",{class:k(""+(e.value==re.value?"active":"")),key:l,onClick:l=>{return a=e.value,void(re.value=a);var a}},i(e.label),11,cr))),64))]),c("div",ir,[c("span",null,i(v(A)("可用")),1),c("div",vr,[c("span",null,i(cl.value)+" "+i(Je.value.settlementKey),1),c("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAZlJREFUWEftljFLw0AUx39XFcW5QzcV6gcxHaSJHUShDo4Ouikirq5SRDcdHBUq6CAlsQ5tP4iKHTt0FKlgc9KWSjQX00avWbz1Xu79/v/37uUEMS8Rc37+AfQ4UHEKtOQRltUIK7EegKojgQaCbRbMq58gdAL08kqKtOROkBv6AXoYgW74ASr2DAmxDmI8rH6B+1IeKPcUbvgBqs4zMBs5efiHDXA3MJbsTqgK4AFIh58TNUI2IbGOkb1XA5Rv00xO5DWV4JrX9ha5XLOPP6Im7KhmE8O6+e6bfgCJT7UXQiNAsGr9ADWnwEv70FvroJYdzIFSKcn02D4Zcy9q70cHqNorwBmIJIY5GPAQlMEH9lSfIlj9PG9kAF7VXjXaAVSqv7SsUM/4gSyX77gUyZhP6ltQvVsE96Jba33rEcOcDwAoW+CeAyl9+aljmHPBc8C2U0yJYwRrSgjxyxK03i7JLtfDB1HNySM58bmhvQm9aCo3RgrQh/G6EQtAB6Tnxm48o1jjlVC/iDQnHM2DZAgRf/53GyJ3N/QD40WHIaVDBscAAAAASUVORK5CYII=",onClick:Cl})])]),c("div",dr,[w(t,null,{default:u((()=>[w(a,{modelValue:ie.value,"onUpdate:modelValue":l[5]||(l[5]=e=>ie.value=e),options:ke},null,8,["modelValue"])])),_:1})]),3==ie.value?(n(),o(r,{key:0,"allow-empty":!0,min:Xe.value.minPrice,max:Xe.value.maxPrice,step:v(W)(Xe.value.maxPriceDecimalDigit),placeholder:v(A)("触发价")+"("+Xe.value.rightKey+")",modelValue:be.value.triggerPrice,"onUpdate:modelValue":l[6]||(l[6]=e=>be.value.triggerPrice=e),modelModifiers:{number:!0}},null,8,["min","max","step","placeholder","modelValue"])):P("",!0),w(r,{"allow-empty":!0,min:Xe.value.minPrice,max:Xe.value.maxPrice,step:v(W)(Xe.value.maxPriceDecimalDigit),placeholder:v(A)("价格")+"("+Xe.value.rightKey+")",modelValue:be.value.entrustPrice,"onUpdate:modelValue":l[7]||(l[7]=e=>be.value.entrustPrice=e),modelModifiers:{number:!0}},null,8,["min","max","step","placeholder","modelValue"]),c("div",pr,[c("div",mr,[(n(),d(b,null,f(te,((e,l)=>c("p",{class:k(""+(e.value==oe.value?"active":"")),key:l,onClick:l=>{return a=e.value,void(oe.value=a);var a}},i(e.label),11,Cr))),64))]),c("div",gr,[1==oe.value?(n(),o(r,{key:0,"allow-empty":!0,min:Xe.value.minCount,max:Xe.value.maxCount,step:v(W)(Xe.value.maxCountDecimalDigit),placeholder:Xe.value.leftKey,modelValue:fe.value.leftAmount,"onUpdate:modelValue":l[8]||(l[8]=e=>fe.value.leftAmount=e),modelModifiers:{number:!0},onChange:dl},null,8,["min","max","step","placeholder","modelValue"])):P("",!0),2==oe.value?(n(),o(r,{key:1,"allow-empty":!0,min:v(q)(Xe.value.minCount*Je.value.fairPriceLast,Xe.value.maxCountDecimalDigit),max:v(q)(Xe.value.maxCount*Je.value.fairPriceLast,Xe.value.maxCountDecimalDigit),step:1*Je.value.multiplier*Je.value.fairPriceLast,placeholder:Xe.value.rightKey,modelValue:fe.value.rightAmount,"onUpdate:modelValue":l[9]||(l[9]=e=>fe.value.rightAmount=e),modelModifiers:{number:!0},onChange:pl},null,8,["min","max","step","placeholder","modelValue"])):P("",!0)])]),P("",!0),1==re.value?(n(),d(b,{key:2},[c("ul",Ar,[c("li",null,[c("p",null,i(v(A)("可开")),1),c("p",yr,i(Oe.value.long.show)+" "+i(ul.value),1)]),c("li",null,[c("p",hr,i(v(A)("保证金")),1),c("p",br,i(Oe.value.long.margin)+" "+i(Je.value.settlementKey),1)])]),c("div",fr,[v(x).isLogin()?(n(),o(s,{key:0,type:"primary",block:"",onClick:l[11]||(l[11]=R((e=>tl("B")),["stop"]))},{default:u((()=>[c("p",null,i(v(A)("开多")),1),be.value.entrustCount>0?(n(),d("p",kr,"≈ "+i(Oe.value.long.amount)+" "+i(Je.value.settlementKey),1)):P("",!0)])),_:1})):(n(),o(s,{key:1,type:"primary",block:"",onClick:l[12]||(l[12]=R((e=>gl()),["stop"]))},{default:u((()=>[c("p",null,i(v(A)("登录")),1)])),_:1}))]),c("ul",wr,[c("li",null,[c("p",null,i(v(A)("可开")),1),c("p",Pr,i(Oe.value.short.show)+" "+i(ul.value),1)]),c("li",null,[c("p",Vr,i(v(A)("保证金")),1),c("p",Dr,i(Oe.value.short.margin)+" "+i(Je.value.settlementKey),1)])]),c("div",xr,[v(x).isLogin()?(n(),o(s,{key:0,type:"danger",block:"",onClick:l[13]||(l[13]=R((e=>tl("S")),["stop"]))},{default:u((()=>[c("p",null,i(v(A)("开空")),1),be.value.entrustCount>0?(n(),d("p",Br,"≈ "+i(Oe.value.short.amount)+" "+i(Je.value.settlementKey),1)):P("",!0)])),_:1})):(n(),o(s,{key:1,type:"danger",block:"",onClick:l[14]||(l[14]=R((e=>gl()),["stop"]))},{default:u((()=>[c("p",null,i(v(A)("登录")),1)])),_:1}))])],64)):(n(),d(b,{key:3},[c("ul",Er,[c("li",null,[c("p",null,i(v(A)("可平")),1),c("p",Tr,i(nl.value.long.show||0)+" "+i(ul.value),1)])]),c("div",Kr,[v(x).isLogin()?(n(),o(s,{key:0,type:"primary",block:"",onClick:l[15]||(l[15]=R((e=>tl("S")),["stop"]))},{default:u((()=>[c("p",null,i(v(A)("平多")),1),be.value.entrustCount>0?(n(),d("p",Ir,"≈ "+i(Oe.value.long.amount)+" "+i(Je.value.settlementKey),1)):P("",!0)])),_:1})):(n(),o(s,{key:1,type:"primary",block:"",onClick:l[16]||(l[16]=R((e=>gl()),["stop"]))},{default:u((()=>[c("p",null,i(v(A)("登录")),1)])),_:1}))]),c("ul",Sr,[c("li",null,[c("p",null,i(v(A)("可平")),1),c("p",Lr,i(nl.value.short.show||0)+" "+i(ul.value),1)])]),c("div",Nr,[v(x).isLogin()?(n(),o(s,{key:0,type:"danger",block:"",onClick:l[17]||(l[17]=R((e=>tl("B")),["stop"]))},{default:u((()=>[c("p",null,i(v(A)("平空")),1),be.value.entrustCount>0?(n(),d("p",Fr,"≈ "+i(Oe.value.short.amount)+" "+i(Je.value.settlementKey),1)):P("",!0)])),_:1})):(n(),o(s,{key:1,type:"danger",block:"",onClick:l[18]||(l[18]=R((e=>gl()),["stop"]))},{default:u((()=>[c("p",null,i(v(A)("登录")),1)])),_:1}))])],64))])]),w(Vt,{currContract:Je.value,currPair:Xe.value},null,8,["currContract","currPair"])]),w(p,{show:F.value,"onUpdate:show":l[19]||(l[19]=e=>F.value=e),actions:Je.value.pair.depths,"cancel-text":v(A)("取消"),"close-on-click-action":"",onSelect:l[20]||(l[20]=(e,l)=>{N.value=l,Q.clearContractCurrAndSubscribeDisc(L.value,qe.value)})},null,8,["show","actions","cancel-text"]),w(p,{show:M.value,"onUpdate:show":l[21]||(l[21]=e=>M.value=e),actions:_,"close-on-click-action":"",onSelect:l[22]||(l[22]=(e,l)=>{Ge.value=l})},null,8,["show"]),w(m,{show:xe.value,"onUpdate:show":l[25]||(l[25]=e=>xe.value=e),showConfirmButton:!1},{default:u((()=>[c("div",Mr,[c("div",Ur,i(v(A)("余额不足")),1),c("div",Qr,i(v(A)("下单失败，可用余额不足。请从其他账户划转资产，或充值资金后再下单。")),1),c("div",Hr,[w(s,{onClick:l[23]||(l[23]=e=>v(g).push("/fundTransfer/spot/contract/"+Je.value.settlementKey))},{default:u((()=>[D(i(v(A)("划转")),1)])),_:1}),w(s,{type:"primary",onClick:l[24]||(l[24]=e=>v(g).push("/recharge/"+Je.value.settlementKey))},{default:u((()=>[D(i(v(A)("去充值")),1)])),_:1})])])])),_:1},8,["show"]),pe.value?(n(),o(ce,{key:0,tabNav:[v(A)("自选"),v(A)("永续")],topTt:v(A)("U本位合约"),onClose:Ee},null,8,["tabNav","topTt"])):P("",!0),Te.value?(n(),o(Re,{key:1,currContract:Je.value,onClose:Ie},null,8,["currContract"])):P("",!0),Se.value?(n(),o(Ft,{key:2,currPosition:nl.value,onClose:Ne,currContract:Je.value},null,8,["currPosition","currContract"])):P("",!0),Fe.value?(n(),o(el,{key:3,currPosition:nl.value[Me.value],direction:Me.value,currContract:Je.value,currLeverage:ol.value[Me.value],onClose:Qe},null,8,["currPosition","direction","currContract","currLeverage"])):P("",!0)])):P("",!0)}}},[["__scopeId","data-v-3fd9b2d4"]]);export{Jr as default};
