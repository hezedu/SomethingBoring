import{_ as e,u as s,t as l,f as a,q as t,bu as c,R as n,r as i,h as r,bv as o,ac as p,o as u,c as d,b as g,F as v,B as A,G as f,C as h,m,bw as C,a0 as I,a as k,bt as b,l as B,n as y,J as V,K as w,j as E,bx as R,by as x,z as T}from"./index-ZSwLI674.js";/* empty css              *//* empty css              *//* empty css              */import"./index-CqDlCCNj.js";import{S as _}from"./index-C14dSwvx.js";import{E as O}from"./emptyPage-DPXgX7yJ.js";import{I as U}from"./icon_search-vkXB8RWf.js";import{T as j,a as K}from"./index-C0sISGSw.js";import"./use-id-BUjKeJ2W.js";import"./use-tab-status-yiZOeCkD.js";import"./index-DXU4Ikqf.js";import"./index-BpQst5nk.js";const N=e=>(V("data-v-a711978b"),e=e(),w(),e),S={class:"topTabs"},Q=["onClick"],L={class:"tableFilter"},z={class:"cols leftCol"},X={class:"filterItem"},Z=[N((()=>g("span",{class:"icon up"},null,-1))),N((()=>g("span",{class:"icon down"},null,-1)))],D=N((()=>g("div",{class:"line"}," / ",-1))),P={class:"filterItem"},W=[N((()=>g("span",{class:"icon up"},null,-1))),N((()=>g("span",{class:"icon down"},null,-1)))],G={class:"cols midCol"},F={class:"filterItem"},J=[N((()=>g("span",{class:"icon up"},null,-1))),N((()=>g("span",{class:"icon down"},null,-1)))],q={class:"cols rightCol"},H={class:"filterItem"},Y=[N((()=>g("span",{class:"icon up"},null,-1))),N((()=>g("span",{class:"icon down"},null,-1)))],M={key:0,class:"list"},$=["onClick"],ee={class:"leftCol"},se={class:"whiteBig"},le={class:"greyS"},ae={class:"row2 greyS"},te={class:"num"},ce={class:"midCol"},ne={class:"row2 greyS"},ie={class:"rightCol"},re=["onClick"],oe={class:"leftCol"},pe={class:"whiteBig"},ue={class:"greyS"},de={class:"row2 greyS"},ge={class:"num"},ve={class:"midCol"},Ae={class:"row2 greyS"},fe={class:"rightCol"},he={class:"inner"},me=N((()=>g("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKBSURBVHgBxVddctpADJZkoCRpZ8gNnBvw0sIb5ARNbsANQsp0+gg8dqZN3RtwhOYEcd7I9KG5QX0DmEkcGhJWXW1Nhp91sAvB34wH4fXuJ620khYhIepNLoV0c4Tg1BChzAAuApRkTMtDLQf695qA/OKkeO57OEyyLq76oPpp5PIDnzByY0qYBFqZHuWo2/+8E8D/KCAWj5ywoz85gTWgkL2fX16fQhoFjNWPfKHtcGEjwABzeGjbDVp88fbjbXmz5AI2BsnaiyNzO7B5y5folnZibgdeltwwGAPrzUFpSYFK69ZLRc4Q4GR8II/IiedpjjCXb88pIFufNtrlmPW9/UAekdPMJcbmP85IAfWo2rBlSG4xCog/dCQ2YMuQxCbc9IfyR5ABJKveOfn3pBBrkBUY66Q1KUNWQC7noqpmB0NshBOqy1lZMXWsHBJfCC7YNXCx0goZ4hTUZ1yOGayBanPgslP4HTdOz85+VYS1sWINfNcKB/F1HgNm7tlGZNv7X9/4IldbN3XtAmswI2IjLsNKI5OTTgZiA5Fd3f10bCORz/1IrsV9Z2hiwQFJGwVZgfGamCeXkBWQfdpTkx/iC8gAu5OHc/K9/SEy9mDLYIaecJtjiOr+O2wZpMZdwz19Uflw9037pJl4hai9Eil1J8XoXZ3tns4pIKVxRIVf8WlzQ9Dp/eps72D69ykTmlhQ48N07VV6csMxg7lULHlfOXz8IkroNZUzPl6sLfaLiRQQKlxszB2R5bbC9uzdMH1g2sjR21H3XXGxbXj15VTvhqJCW+f6BiQEA+vcQj053qvK+UoFppBTEpIzcz3XhQqw9ERoKqeuKzq9SoaLs3gRfwHZnzF3EGDAvQAAAABJRU5ErkJggg=="},null,-1))),Ce=e({__name:"tabContent",props:["tabIdx","searchValue"],setup(e){const{t:V}=s(),w=l(),E=e,R=a("0/0"),x=(e,s)=>{console.log("onChangeFilter...");let l,a=R.value.slice(0,1),t=R.value.slice(2);e==a?1==t?R.value=e+"/2":2==t?R.value="0/0":0==t&&(R.value=e+"/1"):R.value=e+"/1",l=s===N.prop&&"asc"===N.sort?"desc":"asc",N.prop=s,N.sort=l},T=a(0),_=[[V("现货"),V("合约")],[V("USDT")],[V("U本位合约")]],U=t(),j=c(),K=n(),N=i({prop:"",sort:""}),Ce=()=>1==E.tabIdx||0==E.tabIdx&&0==T.value,Ie=e=>{Ce()?w.push("/spot/kline/"+e.symbol):w.push("/contract/kline/"+e.contractCode)},ke=r((()=>{const e=Object.create(null);return U.selfSpotTradePairs.forEach((s=>{e[s.symbol]=!0})),e})),be=r((()=>{const e=Object.create(null);return U.selfContracts.forEach((s=>{e[s.symbol]=!0})),e})),Be=r((()=>{if(!U.isLogin())return[];if(Ce()){let e=j.spotPairList;if(e=e.filter((e=>ke.value[e.symbol])),console.log(e),""!=E.searchValue){let s=E.searchValue.toUpperCase();e=e.filter((e=>-1!==(e.leftKey+"/"+e.rightKey).indexOf(s)))}return e.sort(o(N.prop,N.sort)),e}{let e=K.contractInfoList();if(e=e.filter((e=>be.value[e.contractCode])),console.log(e),""!=E.searchValue){let s=E.searchValue.toUpperCase();e=e.filter((e=>-1!==e.keyCapital.indexOf(s)))}return e.sort(o(N.prop,N.sort)),e}})),ye=r((()=>{if(Ce()){let e=j.spotPairList;if(""!=E.searchValue){let s=E.searchValue.toUpperCase();e=e.filter((e=>-1!==e.leftKey.indexOf(s)))}return e.sort(o(N.prop,N.sort)),e}{let e=K.contractInfoList();if(""!=E.searchValue){let s=E.searchValue.toUpperCase();e=e.filter((e=>-1!==e.keyCapital.indexOf(s)))}return e.sort(o(N.prop,N.sort)),e}})),Ve=r((()=>{let e=null;return e=(0==E.tabIdx?Be:ye).value,e||[]}));return(s,l)=>{const a=p("CoinToLegal");return u(),d(v,null,[g("div",S,[(u(!0),d(v,null,A(_[e.tabIdx],((e,s)=>(u(),d("p",{key:s,class:f(""+(T.value==s?"active":"")),onClick:e=>{return l=s,void(T.value=l);var l}},h(e),11,Q)))),128))]),g("div",L,[g("div",z,[g("div",X,[g("p",null,h(m(V)("名称")),1),g("p",{class:f("arrows "+("0/1"==R.value?"upActive":"0/2"==R.value?"downActive":"")),onClick:l[0]||(l[0]=e=>x(0,Ce()?"symbol":"key"))},Z,2)]),D,g("div",P,[g("p",null,h(m(V)("成交量")),1),g("p",{class:f("arrows "+("1/1"==R.value?"upActive":"1/2"==R.value?"downActive":"")),onClick:l[1]||(l[1]=e=>x(1,"ticker.volume"))},W,2)])]),g("div",G,[g("div",F,[g("p",null,h(m(V)("最新价")),1),g("p",{class:f("arrows "+("2/1"==R.value?"upActive":"2/2"==R.value?"downActive":"")),onClick:l[2]||(l[2]=e=>x(2,"ticker.last"))},J,2)])]),g("div",q,[g("div",H,[g("p",null,h(m(V)("24h涨跌")),1),g("p",{class:f("arrows "+("3/1"==R.value?"upActive":"3/2"==R.value?"downActive":"")),onClick:l[3]||(l[3]=e=>x(3,"ticker.changeRange"))},Y,2)])])]),Ve.value.length>0?(u(),d("ul",M,[Ce()?(u(!0),d(v,{key:0},A(Ve.value,((e,s)=>(u(),d("li",{key:s,onClick:s=>Ie(e)},[g("div",ee,[g("p",null,[g("span",se,h(e.leftKey),1),g("span",le," / "+h(e.rightKey),1)]),g("div",ae,[g("p",null,[g("span",null,h(m(V)("成交量")),1),g("span",te,h(m(C)(e.ticker.volume)),1)])])]),g("div",ce,[g("p",{class:f(e.ticker.changeRange>0?"greenBig":"redBig")},h(m(I)(e.ticker.last)),3),g("p",ne,[k(a,{value:e.ticker.last,coin:e.rightKey},null,8,["value","coin"])])]),g("div",ie,[g("p",{class:f([e.ticker.changeRange>0?"greenBtn":"redBtn","btns greenBtn"])},h(m(b)(e.ticker.changeRange)),3)])],8,$)))),128)):(u(!0),d(v,{key:1},A(Ve.value,((e,s)=>(u(),d("li",{key:s,onClick:s=>Ie(e)},[g("div",oe,[g("p",null,[g("p",pe,h(e.keyCapital),1),g("p",ue,h(m(V)("永续")),1)]),g("div",de,[g("p",null,[g("span",null,h(m(V)("成交量")),1),g("span",ge,h(m(C)(e.ticker.rightVolume)),1)])])]),g("div",ve,[g("p",{class:f(e.ticker.changeRange>0?"greenBig":"redBig")},h(m(I)(e.ticker.last)),3),g("p",Ae,[k(a,{value:e.ticker.last,coin:e.quoteKey},null,8,["value","coin"])])]),g("div",fe,[g("p",{class:f([e.ticker.changeRange>0?"greenBtn":"redBtn","btns greenBtn"])},h(m(b)(e.ticker.changeRange)),3)])],8,re)))),128))])):(u(),B(O,{key:1})),0==e.tabIdx?(u(),d("div",{key:2,class:"addRow",onClick:l[4]||(l[4]=e=>s.$router.push("/search/hot"))},[g("div",he,[me,g("span",null,h(m(V)("添加自选")),1)])])):y("",!0)],64)}}},[["__scopeId","data-v-a711978b"]]);var Ie={VITE_OPENAPI:"https://app.fitget.pro",VITE_VERSION:"v1",VITE_FALLBACK_LANG:"zh",VITE_SIGNATURE_KEY:"4b424e19fd7287dc2378271f985bd0b8",VITE_WEBSOCKET_MQTT_URL:"wss://dapp.fitget.pro/mqtt",VITE_MERCHANT_ID:"1",VITE_FUSION_PROD_ID:"5",BASE_URL:"/SomethingBoring/tmp/fitget",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ke=["src"],be=e({__name:"index",setup(e){const{t:l}=s(),t=[l("自选"),l("现货")],c=a(""),n=a(0),i=Ie,{VITE_WEBSOCKET_MQTT_URL:r,VITE_MERCHANT_ID:o}=i,p=[`exchange.public.${o}.spot.ticker`,"exchange.public.contract.ticker"];return E((()=>{R.subscribes(p)})),x((()=>{R.unsubscribes(p)})),(e,s)=>{const a=_,i=K,r=j;return u(),d(v,null,[k(a,{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),placeholder:`${m(l)("搜索币种")}/${m(l)("币对")}/${m(l)("合约")}`,onClick:s[1]||(s[1]=s=>e.$router.push("/search/hot"))},{"left-icon":T((()=>[g("img",{src:m(U),alt:"search icon",class:"custom-search-icon"},null,8,ke)])),_:1},8,["modelValue","placeholder"]),k(r,{active:n.value,"onUpdate:active":s[2]||(s[2]=e=>n.value=e),class:"custom-tabs"},{default:T((()=>[(u(),d(v,null,A(t,((e,s)=>k(i,{title:e,key:s},{default:T((()=>[k(Ce,{tabIdx:s,searchValue:c.value},null,8,["tabIdx","searchValue"])])),_:2},1032,["title"]))),64))])),_:1},8,["active"])],64)}}},[["__scopeId","data-v-ece6b18d"]]);export{be as default};
