import{_ as a,f as e,o as s,l as c,z as l,b as o,C as n,c as t,B as r,n as u,H as i,I as A,F as v,m as d,ao as m,af as p,J as C,K as y,u as h,t as g,x as f,bJ as k,h as E,j as B,ac as U,a as w,ad as R,E as I,s as b}from"./index-CioBjTVG.js";import{B as S}from"./index-h3qOpuro.js";import{F as O}from"./index-C9iF-GfQ.js";import{_ as D}from"./headItem-Cz9qCjk4.js";/* empty css                                                                 */import"./use-id-CcbAo3SX.js";const G={class:"popDownTop"},T={class:"popDownMain"},x=["onClick"],L={class:"coinCol"},Q={class:"name"},V={key:0,class:"desc"},F=[(a=>(C("data-v-07cda1df"),a=a(),y(),a))((()=>o("img",{class:"OK",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAR1JREFUWEftlT1uAjEQRt9QkQYRrkFJR5UtkIArpE6BSG6Qa6DcgQOs+JECFaLIGXKElNkG2MgK4ne92LvepbFrW+95PP5GuPOSO/PxAr4C5VRgGQ6IpUnQewPi08YvXkDBd4wAQWRE0HstT+AUrm5eYchT/6McAQO4EinmCQzhxQhYwN0LWMLdCmSA6wXWYY3o4Zcg2BgNq4zwZIHFog7RnFi+kerzTYkccI1AOCOm839zGadK5IQnC3xOW7CdA4+pEg7g+h64JeEInv4LdBISvRyyXROvRo2735SehFcSfAGtfYImZrsN3CwHriXUOSdwMwG161zCGdxc4Cgxo8L75Ui1LXv2cbyaNGh3f/IAL88WM44tDL2Ar4CvwB9q848haB9trQAAAABJRU5ErkJggg=="},null,-1)))],_=a({__name:"bottomSelect",props:{options:{type:Array,default:[]},choosed:{type:Object}},emits:["close","submit"],setup(a,{emit:C}){let y=e(!0);const h=C,g=a=>{h("close")},f=()=>{h("submit",k.value)},k=e(),E=a;return(e,C)=>{const h=p;return s(),c(h,{class:"commonDown",show:d(y),"onUpdate:show":C[0]||(C[0]=a=>m(y)?y.value=a:y=a),position:"bottom",round:"",onClose:g},{default:l((()=>[o("div",G,[o("div",{class:"cancel",onClick:g},n(e.$t("取消")),1),o("div",{class:"submit",onClick:f},n(e.$t("确认")),1)]),o("div",T,[o("ul",null,[(s(!0),t(v,null,r(a.options,((a,e)=>(s(),t("li",{key:e,onClick:e=>(a=>{k.value=a})(a)},[o("div",L,[o("span",Q,n(a.name||a.currency.toUpperCase()),1),a.desc?(s(),t("span",V,n(a.desc),1)):u("",!0)]),i(o("div",null,F,512),[[A,E.choosed==(a.name||a.currency.toUpperCase())]])],8,x)))),128))])])])),_:1},8,["show"])}}},[["__scopeId","data-v-07cda1df"]]),X={class:"main"},j={key:0,class:"form"},K={class:"commonTittle"},N={class:"col coinCol"},z={class:"name"},J={class:"desc"},H={class:"commonTittle"},Y={class:"commonCell"},M={class:"col colInput"},Z={class:"name"},W={class:"commonTittle"},P={class:"col coinCol"},q={class:"name"},$={class:"downFix"},aa=a({__name:"stepOne",setup(a){const{t:r}=h(),i=g(),A=f();let v=e(!1);const p=e(A.params.currency),C=e(),y=e(),G=e();k();const T=e([]),x=e(2);let L=a=>{x.value=a,v.value=!0},Q=function(){v.value=!1},V=a=>{if(null==a)return v.value=!1,!1;switch(console.log(a),x.value){case 0:C.value=a;break;case 1:y.value=a;break;case 2:G.value=a,ca()}v.value=!1};const F=E((()=>{let a=[];switch(x.value){case 0:a=G.value.coins;break;case 1:a=G.value.fiats;break;case 2:a=T.value}return a})),aa=E((()=>{let a="";switch(x.value){case 0:a=C.value.currency.toUpperCase();break;case 1:a=y.value.currency.toUpperCase();break;case 2:a=G.value.name}return a}));let ea=e(""),sa=async()=>{const a=1*ea.value;if(a<=0||a<y.value.minAmount)return void b(r("最小金额为")+y.value.currency.toUpperCase()+" "+y.value.minAmount);const e=await R.createFiatOrder({fiatCurrency:y.value.currency,fiatAmount:a,channel:G.value.name,cryptoCurrency:C.value.currency,chainCurrency:C.value.chain});window.location.href=e.payData};const ca=()=>{const{coins:a,fiats:e}=G.value;C.value=a[0],e.forEach((a=>{a.currency==p.value&&(y.value=a)}))};return B((()=>{(async()=>{const a=await R.getCreditChannels();T.value=a,G.value=a[0],ca()})()})),(a,e)=>{const A=D,p=U("CoinLogo"),h=O,g=S;return s(),t("div",X,[w(A,{headTt:d(r)("购买")},{default:l((()=>[o("img",{class:"topList",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAl1JREFUaEPtmjFv00AUx///K4KNhZEFCcRHQIxsDHwD2gGEmJhKglOB09RpaBsnrRATEkICCejI3k9QsTGwIcEXYACkTtgPOVGqUDV3Z5+xsXSWMr17d+/37v/8Tr4QDX/Y8PhhBdAb7l1TaXJTKagygAXqR3L083kURanrfEaAQRyvpSm3ADtY24BI7odBa5mk2PqcNk4LkGV+SZLDsoOfBULiVRi077tAaAGi7VGXRH+yIPGVwBuXbIngBjD5HT+uEFqAzeGoJ4KNSfzERrfzKHIBmJ+vLIg6Ab4DuOAqpxoBpE/yogjuuUDUBpBJMgza/UE8fukCUStAVlMiQheI2gEy+bhAVAuwPV4Vyt5U8/xEyoeZ/kVEAXzwd2Fz//fRrxVdx64WII4vS8rPAM5Zv46pVtc7rWeLxlcKkAURDUd3KXgB4KwNhKn/VA6QBd3b2r16hnILSs6fBjHfsf9LAFPm85wAatkBDzB/GNRlw2Yrs3f403j3tkCu6OYi+OVJ0Hpvc3S2Wff4+OEKMBiOl1ORtyZZZHZFroSd9jvTWA8wy5BNJhovIZMcithtEldaDRQJ0OTjAfLUgCmbReyV7oBtEZ8E0fWFSgHy9IGTEIv6ggfIUwONl1CRIjX5VCohUzBF7B4gTw0UybDJx++A3wGTRgx2LyEvIS8h+6st7Yet/s44BGRzmlD5RvK1Y3Kt3EXkDsBL08Hsrq+1B4sca71mtaCRhEvXo87Dj4UAMqd/ddFtE7xS8jgMgh3dWONNfeZc9l8NTMGLMEmoDnSZn81hBWBasE574wH+AHzoxE9TrrrzAAAAAElFTkSuQmCC",onClick:e[0]||(e[0]=a=>d(i).push("/credit/dealList"))})])),_:1},8,["headTt"]),C.value?(s(),t("div",j,[o("div",K,n(d(r)("我想要买")),1),o("div",{class:"commonCell",onClick:e[1]||(e[1]=a=>d(L)(0))},[o("div",N,[w(p,{class:"coin",coin:C.value.currency.toUpperCase()},null,8,["coin"]),o("span",z,n(C.value.currency.toUpperCase()),1),o("span",J,n(C.value.desc),1)])]),o("div",H,n(d(r)("我想要花")),1),o("div",Y,[o("div",M,[w(h,{modelValue:d(ea),"onUpdate:modelValue":e[2]||(e[2]=a=>m(ea)?ea.value=a:ea=a),label:"",placeholder:d(r)("最小金额为")+y.value.currency.toUpperCase()+" "+y.value.minAmount},null,8,["modelValue","placeholder"])]),o("div",{class:"col coinCol",onClick:e[3]||(e[3]=a=>d(L)(1))},[w(p,{class:"coin",coin:y.value.currency.toUpperCase()},null,8,["coin"]),o("span",Z,n(y.value.currency.toUpperCase()),1)])]),o("div",W,n(d(r)("渠道")),1),o("div",{class:"commonCell",onClick:e[4]||(e[4]=a=>d(L)(2))},[o("div",P,[o("span",q,n(G.value.name),1)])]),o("div",$,[w(g,{type:"primary",block:"",onClick:d(sa)},{default:l((()=>[I(n(d(r)("下一步")),1)])),_:1},8,["onClick"])])])):u("",!0),d(v)?(s(),c(_,{key:1,onClose:d(Q),choosed:aa.value,onSubmit:d(V),options:F.value},null,8,["onClose","choosed","onSubmit","options"])):u("",!0)])}}},[["__scopeId","data-v-0d7d26e8"]]);export{aa as default};
